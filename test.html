<!DOCTYPE html>
<html>

<head>
  <title>LightYear Industries</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0&icon_names=shopping_cart" />
  <link rel="icon" type="image/x-icon" href="images/titleicon.png" />
</head>

<body class="Body">
  <div class="TopRibbon">    
    <a href=""><img src="images/LYI 500x380.png" style = "width: 250px; height: 100px; object-fit: cover;"></a>
    <div><a class="TopRibbonText" href="index.html">Home</a></div>
    <div><a class="TopRibbonText" href="shop.html">Shop</a></div>
    <div><a class="TopRibbonText" href="career.html">Career</a></div>
    <div><a class="TopRibbonText" href="contact.html">Contact Us</a></div>
    <div><a class="TopRibbonText" href="cart.html"><span class="material-symbols-outlined" style="width: 100px; font-size: 50px;">shopping_cart</span></a></div>
  </div>

  <button class = "shop-manufacturingconfig-button" onclick="OnClickLoadDXF()">LoadDXF</button>

  <input type="file" id="fileInput"></input>
</body>

<script src="wasm/LYIWebsite.js"></script>  
<script>  
  function OnClickLoadDXF() 
  {
    var fileInput = document.getElementById('fileInput');
    var file = fileInput.files[0];
    if (file) 
    {
      var reader = new FileReader();
      reader.onload = function(e) 
      {
        var stringdata = e.target.result;
        var data = new Uint8Array(new TextEncoder().encode(stringdata));
        var memory = _malloc(data.length);
        HEAPU8.set(data, memory);
        console.log(_LoadDXFExport(memory,data.length));
        console.log(memory);
        console.log(Module);
        _free(memory);
      };
      reader.readAsText(file);
    } 
    else 
    {
      console.log("No file selected");
    }
  }
</script>

</html>


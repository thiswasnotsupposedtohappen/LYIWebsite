<!DOCTYPE html>
<html>

<head>
  <title>LightYear Industries</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  <link rel="icon" type="image/x-icon" href="images/titleicon.png" />
  <meta name="viewport" content="user-scalable=no">
</head>

<body class="Body" style="  padding-top: 70px;padding-left: 50px;padding-right: 50px;padding-bottom: 50px;">

  <div class="TopRibbon">    
    <div><a href="index.html"><img class = "TopRibbonLogo" src="images/LYI500x380.png"></a></div>
    <div><a class="TopRibbonText" href="index.html">Home</a></div>
    <div><a class="TopRibbonText" href="shop.html">Shop</a></div>
    <div><a class="TopRibbonText" href="career.html">Career</a></div>
    <div><a class="TopRibbonText" href="contact.html">Contact</a></div>
    <div><a class="TopRibbonText" href="user.html">Login</a></div>
    <div><a class="TopRibbonText" href="cart.html" style=" position: relative;"><div class="TopRibbonTextCartQuantity"></div><span class="material-symbols-outlined" style="width: 100px; font-size: 50px; z-index: 1001;">shopping_cart</span></a></div>
  </div>

  <div class="editorribbon">
    <button class = "editorribbonbutton" onclick = "OnClickView('Specifications')">Specifications</button>
    <button class = "editorribbonbutton" onclick = "OnClickView('DesignElements')">Design Elements</button>
    <button class = "editorribbonbutton" onclick = "OnClickView('ReviewCost')">Review/Cost</button>
  </div>

  <div id = "viewer" style="height: 500px; margin-top: 50px; border-style: solid; border-width: 20px; border-radius: 30px ;border-color: rgb(124,85,59);overflow: hidden; position: relative;">
    <canvas></canvas>
    <button style="position: absolute; bottom: 10px; right: 10px; width:40px; height: 40px; font-size: 5px;" onclick="OnClickViewerZoom()"><span id = "viewerzoombutton" class="material-symbols-outlined">zoom_out_map</span></button>
  </div>

  <div class="shop-manufacturingspecification shop-basepellete">

    <div class="shop-manufacturingconfig shop-containerpellete shop-containerpellete-specifications">
      <div style="text-align: end;"><h3 style="line-height: 50px;">Dimensions:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <input type="number" class="shop-manufacturingconfig-input dimensions-length" style="width: 100px" onchange="OnChangeDimensionsLength(this)" onclick="OnChangeDimensionsLength(this)"></input>
        <h2 style="line-height: 50px;">X</h2>
        <input type="number" class="shop-manufacturingconfig-input dimensions-width"  style="width: 100px" onchange="OnChangeDimensionsWidth(this)"  onclick="OnChangeDimensionsWidth(this)" ></input>
        <button class="shop-manufacturingconfig-button unselected dimensions-mm" onclick="OnClickUnit('mm')"><h2>mm</h2></button>
        <!--
        <button class="shop-manufacturingconfig-button unselected dimensions-inches" onclick="OnClickUnit('inches') "><h2>inches</h2></button>
        <button class="shop-manufacturingconfig-button unselected dimensions-feet" onclick="OnClickUnit('feet') "><h2>feet</h2></button>
        -->
      </div>

      <div style="height: 30px;"></div><div></div>
      <div style="text-align: end;"><b>LightYear:</b></div><div>Raw material is pruchased by LightYear Industries</div>
      <div style="height: 10px;"></div><div></div>
      <div style="text-align: end;"><b>Customer:</b></div><div>Raw material is provided by customer</div>
    </div>

    <div class="shop-manufacturingconfig shop-containerpellete shop-containerpellete-specifications">
      <div style="text-align: end;"><h3 style="line-height: 50px;">Size-Option:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button disabled size-1x1"><h2>1ft x 1ft <span style="color: green;">S</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-2x1"><h2>2ft x 1ft <span style="color: green;">S</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-2x2"><h2>2ft x 2ft <span style="color: green;">S</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-4x1"><h2>4ft x 1ft <span style="color: green;">S</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-4x2"><h2>4ft x 2ft <span style="color: green;">S</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-4x3"><h2>4ft x 3ft <span style="color: green;">S</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-4x4"><h2>4ft x 4ft <span style="color: green;">S</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-5x2"><h2>5ft x 2ft <span style="color: red  ;">N</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-5x4"><h2>5ft x 4ft <span style="color: green;">S</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-6x2"><h2>6ft x 2ft <span style="color: red  ;">N</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-6x4"><h2>6ft x 4ft <span style="color: green;">S</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-8x1"><h2>8ft x 1ft <span style="color: red  ;">N</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-8x2"><h2>8ft x 2ft <span style="color: red  ;">N</span></h2></button>
        <button class="shop-manufacturingconfig-button disabled size-8x4"><h2>8ft x 4ft <span style="color: green;">S</span></h2></button>
      </div>

      <div style="height: 30px;"></div><div></div>
      <div style="text-align: end;"><b>S-variant:</b></div><div>Standard size variant. Nominal cost for raw material is used</div>
      <div style="height: 10px;"></div><div></div>
      <div style="text-align: end;"><b>N-variant:</b></div><div>Non-Standard size variant. An additional cost above Nominal cost is added because of the remaining material from the entire sheet it is cut from has low order requirment and harder to use else-where</div>    
    </div>

    <div class="shop-manufacturingconfig shop-containerpellete shop-containerpellete-specifications">
      <div style="text-align: end;"><h3 style="line-height: 50px;">Raw-Material by:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button unselected rawmaterial-lyi" onclick="OnClickSupplier('LightYear')"><h2>LightYear</h2></button>
        <button class="shop-manufacturingconfig-button unselected rawmaterial-customer" onclick="OnClickSupplier('Customer') "><h2>Customer</h2></button>
      </div>

      <div style="height: 30px;"></div><div></div>
      <div style="text-align: end;"><b>LightYear:</b></div><div>Raw material is pruchased by LightYear Industries</div>
      <div style="height: 10px;"></div><div></div>
      <div style="text-align: end;"><b>Customer:</b></div><div>Raw material is provided by customer</div>
    </div>

    <div  class="shop-manufacturingconfig shop-containerpellete shop-containerpellete-specifications">
      <div style="text-align: end;"><h3 style="line-height: 50px;">Construction:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button unselected construction-standalone" onclick="OnClickConstruction('Standalone')"><h2>Standalone</h2></button>
        <button class="shop-manufacturingconfig-button unselected construction-backsupported" onclick="OnClickConstruction('Back-Supported')"><h2>Back-Supported</h2></button>
        <button class="shop-manufacturingconfig-button unselected construction-halfdepth" onclick="OnClickConstruction('Half-Depth')"><h2>Half-Depth</h2></button>     
      </div>

      <div style="height: 30px;"></div><div></div>
      <div style="text-align: end;"><b>Standalone:</b></div><div>One-Piece of Raw Material having through cut design</div>
      <div style="height: 10px;"></div><div></div>
      <div style="text-align: end;"><b>Back-Supported:</b></div><div>Two Pieces of Material pasted togther front having the design cut-out and back material is just a rectanglar piece. This type is generally used so that back material can hold some cut-outs of top material which would other wise fall of, for example while having letter 'D' in design, the inner part of 'D' will fall off. This type is also generally used for backlit mandirs where top material can be acrylic and bottom material can be 040 acrylic so that when LED is lit at the back it gives an illuminated effect. </div>
      <div style="height: 10px;"></div><div></div>
      <div style="text-align: end;"><b>Half-Depth:</b></div><div>One-Piece of Raw Material having design cut till only a defined depth and not cut all the way through</div>      
    </div>

    <div class="shop-manufacturingconfig shop-containerpellete shop-containerpellete-specifications">
      <div style="text-align: end;"><h3 style="line-height: 50px;">Process:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button unselected process-laser" onclick="OnClickProcess('CNC Laser 0.5mm')"><h2>CNC Laser 0.5mm</h2></button>
        <button class="shop-manufacturingconfig-button unselected process-router3mm" onclick="OnClickProcess('CNC Router 3mm')"><h2>CNC Router 3mm</h2></button>
        <button class="shop-manufacturingconfig-button unselected process-router4mm" onclick="OnClickProcess('CNC Router 4mm')"><h2>CNC Router 4mm</h2></button>
        <button class="shop-manufacturingconfig-button unselected process-router6mm" onclick="OnClickProcess('CNC Router 6mm')"><h2>CNC Router 6mm</h2></button>
        <button class="shop-manufacturingconfig-button unselected process-router8mm" onclick="OnClickProcess('CNC Router 8mm')"><h2>CNC Router 8mm</h2></button>
      </div>

      <div style="height: 30px;"></div><div></div>
      <div style="text-align: end;"><b>CNC Laser:</b></div><div>Manufactured using CNC Laser cutting. Pros are Low cost, can cut very detailed geometrey, geometrey sizes can be as small as 0.5mm and many times even smaller. Cons the cutting accuracy is dependent upon thickness and edge finish is dependent on material. This process is good for cutting Acrylic, Corian and other hard plastics</div>
      <div style="height: 10px;"></div><div></div>
      <div style="text-align: end;"><b>CNC Router:</b></div><div>Manufactured using CNC Router. Pros can cut almost any material with good edge finish and acuracy. Cons cannot cut small/thin geometrey, minimum cutting radius of geometrey is dependent on tool diameter. An example 4mm tool can cut geometrey with minimum radium of 2mm. Smaller the diameter sharper geometrey can be cut. Example when cutting a square slot, the corners will be round with radius of half the tool diameter. Lower the tool disameter, slower the machining speed thus higher will be the cost</div>
    </div>

    <div class="shop-manufacturingconfig shop-containerpellete shop-manufacturingconfig-materialfront shop-containerpellete-specifications">
      <div style="text-align: end;"><h3 style="line-height: 50px;">Front Material:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button disabled front-acrylic" onclick="OnClickMaterialFront('Acrylic')"><h2>Acrylic</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-corian" onclick="OnClickMaterialFront('Corian')"><h2>Corian</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-acp" onclick="OnClickMaterialFront('ACP')"><h2>ACP</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-laminatedplywood" onclick="OnClickMaterialFront('Laminated Plywood')"><h2>Laminated Plywood</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-mdf" onclick="OnClickMaterialFront('MDF')"><h2>MDF</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-wpcpvcfoam" onclick="OnClickMaterialFront('WPC/PVC/Foam')"><h2>WPC/PVC/Foam</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-cementsheet" onclick="OnClickMaterialFront('Cement Sheet')"><h2>Cement Sheet</h2></button>
      </div>

      <div style="height: 30px;"></div><div></div>

      <div style="text-align: end;"><h3 style="line-height: 50px;">Thickness:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button disabled front-1mm" onclick="OnClickThicknessFront('1mm')"><h2>1mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-2mm" onclick="OnClickThicknessFront('2mm')"><h2>2mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-3mm" onclick="OnClickThicknessFront('3mm')"><h2>3mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-4mm" onclick="OnClickThicknessFront('4mm')"><h2>4mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-5mm" onclick="OnClickThicknessFront('5mm')"><h2>5mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-6mm" onclick="OnClickThicknessFront('6mm')"><h2>6mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-8mm" onclick="OnClickThicknessFront('8mm')"><h2>8mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-10mm" onclick="OnClickThicknessFront('10mm')"><h2>10mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-12mm" onclick="OnClickThicknessFront('12mm')"><h2>12mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-15mm" onclick="OnClickThicknessFront('15mm')"><h2>15mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-18mm" onclick="OnClickThicknessFront('18mm')"><h2>18mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-20mm" onclick="OnClickThicknessFront('20mm')"><h2>20mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-25mm" onclick="OnClickThicknessFront('25mm')"><h2>25mm</h2></button>
      </div>

      <div style="height: 30px;"></div><div></div>

      <div style="text-align: end;"><h3 style="line-height: 50px;">Color:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button disabled front-white" onclick="OnClickColorFront('White')"><h2>White</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: white;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-black" onclick="OnClickColorFront('Black')"><h2>Black</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: black;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-red" onclick="OnClickColorFront('Red')"><h2>Red</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: red;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-green" onclick="OnClickColorFront('Green')"><h2>Green</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: green;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-blue" onclick="OnClickColorFront('Blue')"><h2>Blue</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: blue;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-orange" onclick="OnClickColorFront('Orange')"><h2>Orange</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: orange;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-brown" onclick="OnClickColorFront('Brown')"><h2>Brown</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: brown;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-yellow" onclick="OnClickColorFront('Yellow')"><h2>Yellow</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: yellow;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-transparent" onclick="OnClickColorFront('Transparent')"><h2>Transparent</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: transparent;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-white040" onclick="OnClickColorFront('White040')"><h2>White 40%</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: rgba(255, 255, 255, 0.4);"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-raw" onclick="OnClickColorFront('RAW')"><h2>RAW</h2></button>
      </div>
    </div>

    <div class="shop-manufacturingconfig shop-containerpellete shop-manufacturingconfig-materialback shop-containerpellete-specifications">
      <div style="text-align: end;"><h3 style="line-height: 50px;">Back Material:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button unselected back-acrylic" onclick="OnClickMaterialBack('Acrylic')"><h2>Acrylic</h2></button>
        <button class="shop-manufacturingconfig-button unselected back-corian" onclick="OnClickMaterialBack('Corian')"><h2>Corian</h2></button>
        <button class="shop-manufacturingconfig-button unselected back-acp" onclick="OnClickMaterialBack('ACP')"><h2>ACP</h2></button>
        <button class="shop-manufacturingconfig-button unselected back-laminatedplywood" onclick="OnClickMaterialBack('Laminated Plywood')"><h2>Laminated Plywood</h2></button>
        <button class="shop-manufacturingconfig-button unselected back-mdf" onclick="OnClickMaterialBack('MDF')"><h2>MDF</h2></button>
        <button class="shop-manufacturingconfig-button unselected back-wpcpvcfoam" onclick="OnClickMaterialBack('WPC/PVC/Foam')"><h2>WPC/PVC/Foam</h2></button>
        <button class="shop-manufacturingconfig-button unselected back-cementsheet" onclick="OnClickMaterialBack('Cement Sheet')"><h2>Cement Sheet</h2></button>
      </div>

      <div style="height: 30px;"></div><div></div>

      <div style="text-align: end;"><h3 style="line-height: 50px;">Thickness:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button disabled back-1mm" onclick="OnClickThicknessBack('1mm')"><h2>1mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-2mm" onclick="OnClickThicknessBack('2mm')"><h2>2mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-3mm" onclick="OnClickThicknessBack('3mm')"><h2>3mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-4mm" onclick="OnClickThicknessBack('4mm')"><h2>4mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-5mm" onclick="OnClickThicknessBack('5mm')"><h2>5mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-6mm" onclick="OnClickThicknessBack('6mm')"><h2>6mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-8mm" onclick="OnClickThicknessBack('8mm')"><h2>8mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-10mm" onclick="OnClickThicknessBack('10mm')"><h2>10mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-12mm" onclick="OnClickThicknessBack('12mm')"><h2>12mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-15mm" onclick="OnClickThicknessBack('15mm')"><h2>15mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-18mm" onclick="OnClickThicknessBack('18mm')"><h2>18mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-20mm" onclick="OnClickThicknessBack('20mm')"><h2>20mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled back-25mm" onclick="OnClickThicknessBack('25mm')"><h2>25mm</h2></button>
      </div>

      <div style="height: 30px;"></div><div></div>

      <div style="text-align: end;"><h3 style="line-height: 50px;">Color:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button disabled back-white" onclick="OnClickColorBack('White')"><h2>White</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: white;"></div></button>
        <button class="shop-manufacturingconfig-button disabled back-black" onclick="OnClickColorBack('Black')"><h2>Black</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: black;"></div></button>
        <button class="shop-manufacturingconfig-button disabled back-red" onclick="OnClickColorBack('Red')"><h2>Red</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: red;"></div></button>
        <button class="shop-manufacturingconfig-button disabled back-green" onclick="OnClickColorBack('Green')"><h2>Green</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: green;"></div></button>
        <button class="shop-manufacturingconfig-button disabled back-blue" onclick="OnClickColorBack('Blue')"><h2>Blue</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: blue;"></div></button>
        <button class="shop-manufacturingconfig-button disabled back-orange" onclick="OnClickColorBack('Orange')"><h2>Oragne</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: orange;"></div></button>
        <button class="shop-manufacturingconfig-button disabled back-brown" onclick="OnClickColorBack('Brown')"><h2>Brown</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: brown;"></div></button>
        <button class="shop-manufacturingconfig-button disabled back-yellow" onclick="OnClickColorBack('Yellow')"><h2>Yellow</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: yellow;"></div></button>
        <button class="shop-manufacturingconfig-button disabled back-transparent" onclick="OnClickColorBack('Transparent')"><h2>Transparent</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: transparent;"></div></button>
        <button class="shop-manufacturingconfig-button disabled back-white040" onclick="OnClickColorBack('White040')"><h2>White 40%</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: rgba(255, 255, 255, 0.4);"></div></button>
        <button class="shop-manufacturingconfig-button disabled back-raw" onclick="OnClickColorBack('RAW')"><h2>RAW</h2></button>
      </div>
    </div>

    <div class="shop-manufacturingconfig shop-containerpellete shop-manufacturingconfig-materialhalfdepth shop-containerpellete-specifications">
      <div style="text-align: end;"><h3 style="line-height: 50px;">Material:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button disabled front-acrylic" onclick="OnClickMaterialFront('Acrylic');OnClickMaterialBack('Acrylic');"><h2>Acrylic</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-corian" onclick="OnClickMaterialFront('Corian');OnClickMaterialBack('Corian');""><h2>Corian</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-acp" onclick="OnClickMaterialFront('ACP');OnClickMaterialBack('ACP');""><h2>ACP</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-laminatedplywood" onclick="OnClickMaterialFront('Laminated Plywood');OnClickMaterialBack('Laminated Plywood');""><h2>Laminated Plywood</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-mdf" onclick="OnClickMaterialFront('MDF');OnClickMaterialBack('MDF');""><h2>MDF</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-wpcpvcfoam" onclick="OnClickMaterialFront('WPC/PVC/Foam');OnClickMaterialBack('WPC/PVC/Foam');""><h2>WPC/PVC/Foam</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-cementsheet" onclick="OnClickMaterialFront('Cement Sheet');OnClickMaterialBack('Cement Sheet');""><h2>Cement Sheet</h2></button>
      </div>

      <div style="height: 30px;"></div><div></div>

      <div style="text-align: end;"><h3 style="line-height: 50px;">Total Thickness:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button disabled front-1mm" onclick="OnClickThicknessFront('1mm')"><h2>1mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-2mm" onclick="OnClickThicknessFront('2mm')"><h2>2mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-3mm" onclick="OnClickThicknessFront('3mm')"><h2>3mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-4mm" onclick="OnClickThicknessFront('4mm')"><h2>4mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-5mm" onclick="OnClickThicknessFront('5mm')"><h2>5mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-6mm" onclick="OnClickThicknessFront('6mm')"><h2>6mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-8mm" onclick="OnClickThicknessFront('8mm')"><h2>8mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-10mm" onclick="OnClickThicknessFront('10mm')"><h2>10mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-12mm" onclick="OnClickThicknessFront('12mm')"><h2>12mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-15mm" onclick="OnClickThicknessFront('15mm')"><h2>15mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-18mm" onclick="OnClickThicknessFront('18mm')"><h2>18mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-20mm" onclick="OnClickThicknessFront('20mm')"><h2>20mm</h2></button>
        <button class="shop-manufacturingconfig-button disabled front-25mm" onclick="OnClickThicknessFront('25mm')"><h2>25mm</h2></button>
      </div>

      <div style="height: 30px;"></div><div></div>

      <div style="text-align: end;"><h3 style="line-height: 50px;">Cutting Depth:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <input type="number" class="shop-manufacturingconfig-input halfdepth" onchange="OnChangeCuttingDepth(this)"><h2 style="line-height: 50px;">mm</h2></input>
      </div>

      <div style="height: 30px;"></div><div></div>

      <div style="text-align: end;"><h3 style="line-height: 50px;">Color:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <button class="shop-manufacturingconfig-button disabled front-white" onclick="OnClickColorFront('White');"><h2>White</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: white;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-black" onclick="OnClickColorFront('Black');"><h2>Black</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: black;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-red" onclick="OnClickColorFront('Red');"><h2>Red</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: red;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-green" onclick="OnClickColorFront('Green');"><h2>Green</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: green;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-blue" onclick="OnClickColorFront('Blue');"><h2>Blue</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: blue;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-orange" onclick="OnClickColorFront('Oragne');"><h2>Oragne</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: orange;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-brown" onclick="OnClickColorFront('Brown');"><h2>Brown</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: brown;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-yellow" onclick="OnClickColorFront('Yellow');"><h2>Yellow</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: yellow;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-transparent" onclick="OnClickColorFront('Transparent');"><h2>Transparent</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: transparent;"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-white040" onclick="OnClickColorFront('White040');"><h2>White 40%</h2><div class="shop-manufacturingconfig-button-colorpatch" style="background-color: rgba(255, 255, 255, 0.4);"></div></button>
        <button class="shop-manufacturingconfig-button disabled front-raw" onclick="OnClickColorFront('RAW')"><h2>RAW</h2></button>
      </div>
    </div>
  
    <div class="shop-manufacturingconfig shop-containerpellete shop-containerpellete-specifications">
      <div style="text-align: end;"><h3 style="line-height: 50px;">Border Top:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <input type="number" class="shop-manufacturingconfig-input" style="width: 100px" onchange="OnChangeBorder()" onclick="OnChangeBorder()" value = 0></input>
        <h3>mm</h3>
      </div>

      <div style="height: 30px;"></div><div></div>

      <div style="text-align: end;"><h3 style="line-height: 50px;">Border Bottom:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <input type="number" class="shop-manufacturingconfig-input" style="width: 100px" onchange="OnChangeBorder()" onclick="OnChangeBorder()" value = 0></input>
        <h3>mm</h3>
      </div>

      <div style="height: 30px;"></div><div></div>
      
      <div style="text-align: end;"><h3 style="line-height: 50px;">Border Left:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <input type="number" class="shop-manufacturingconfig-input" style="width: 100px" onchange="OnChangeBorder()" onclick="OnChangeBorder()" value = 0></input>
        <h3>mm</h3>
      </div>
            
      <div style="height: 30px;"></div><div></div>
      
      <div style="text-align: end;"><h3 style="line-height: 50px;">Border Right:</h3></div>   
      <div class="shop-manufacturingconfig-options">
        <input type="number" class="shop-manufacturingconfig-input" style="width: 100px" onchange="OnChangeBorder()" onclick="OnChangeBorder()" value = 0></input>
        <h3>mm</h3>
      </div>

      <div style="height: 30px;"></div><div></div>
      <div style="text-align: end;"><b>Border:</b></div><div>Minumum border width recommended to be 20mm</div>
    </div>
  
  </div>

  <div class="shop-designelements shop-basepellete">
        
    <div class="shop-designelements-tray shop-containerpellete">

      <div style=" width: 100%;box-sizing: border-box;">
        <h3><b>Design Element Editor</b></h3>
      </div>

      <div class="shop-designelements-tray-editor">
        <pre><h2>Horizontal Position</h2></pre>
        <input type="number" class="shop-designelements-tray-editor-input disabled" onchange="DesignEditUpdate('input-positionx')"></input>
        <pre>   </pre><button class="shop-designelements-tray-item-button disabled" onclick="DesignEditUpdate('button-left')" style="position: static; background-color: rgb(174, 219, 255);"><span class="material-symbols-outlined">arrow_back</span></button>
        <pre>   </pre><button class="shop-designelements-tray-item-button disabled" onclick="DesignEditUpdate('button-right')" style="position: static; background-color: rgb(174, 219, 255);"><span class="material-symbols-outlined">arrow_forward</span></button>
      </div>
      <div class="shop-designelements-tray-editor">
        <pre><h2>  Vertical Position</h2></pre>
        <input type="number" class="shop-designelements-tray-editor-input disabled" onchange="DesignEditUpdate('input-positiony')"></input>
        <pre>   </pre><button class="shop-designelements-tray-item-button disabled" onclick="DesignEditUpdate('button-up')" style="position: static; background-color: rgb(174, 219, 255);"><span class="material-symbols-outlined">arrow_upward</span></button>
        <pre>   </pre><button class="shop-designelements-tray-item-button disabled" onclick="DesignEditUpdate('button-down')" style="position: static; background-color: rgb(174, 219, 255);"><span class="material-symbols-outlined">arrow_downward</span></button>
      </div>
      <div class="shop-designelements-tray-editor">
        <pre><h2>           Rotation</h2></pre>
        <input type="number" class="shop-designelements-tray-editor-input disabled" onchange="DesignEditUpdate('input-rotation')"></input>
        <pre>   </pre><button class="shop-designelements-tray-item-button disabled" onclick="DesignEditUpdate('button-ccw')" style="position: static; background-color: rgb(174, 219, 255);"><span class="material-symbols-outlined">rotate_left</span></button>
        <pre>   </pre><button class="shop-designelements-tray-item-button disabled" onclick="DesignEditUpdate('button-cw')" style="position: static; background-color: rgb(174, 219, 255);"><span class="material-symbols-outlined">rotate_right</span></button>
      </div>
      <div class="shop-designelements-tray-editor">
        <pre><h2>              Scale</h2></pre>
        <input type="number" class="shop-designelements-tray-editor-input disabled" onchange="DesignEditUpdate('input-scale')"></input>
        <pre>   </pre><button class="shop-designelements-tray-item-button disabled" onclick="DesignEditUpdate('button-plus')" style="position: static; background-color: rgb(174, 219, 255);"><span class="material-symbols-outlined">add</span></button>
        <pre>   </pre><button class="shop-designelements-tray-item-button disabled" onclick="DesignEditUpdate('button-minus')"style="position: static; background-color: rgb(174, 219, 255);"><span class="material-symbols-outlined">remove</span></button>
      </div>
      <button class="shop-designelements-tray-item-button" onclick="DesignEditApply()" style="right:30px;top:30px;bottom:30px; background-color: rgb(30, 255, 0);"><span class="material-symbols-outlined">done_outline</span></button>
    </div>

    <div class="shop-designelements-tray shop-containerpellete">
    </div>

    <div class="shop-designelements-tray shop-containerpellete">
    </div>    
  </div>

  <div class="shop-review shop-basepellete">
    <div class="shop-review-grid shop-containerpellete">
      <div style="text-align: end; color:rgb(255, 0, 0)"><h3>Review Specifications</h3></div><div></div><div></div>
      <div style="text-align: end;"><h2>Horizontal Dimension:</h2></div><div class="shop-review-specification-dimensionx"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Vertical Dimension:</h2></div><div class="shop-review-specification-dimensiony"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Size Considered:</h2></div><div class="shop-review-specification-size"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Construction:</h2></div><div class="shop-review-specification-construction"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Process:</h2></div><div class="shop-review-specification-process"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Front Material:</h2></div><div class="shop-review-specification-materialfront"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Back Material:</h2></div><div class="shop-review-specification-materialback"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Front Thickness:</h2></div><div class="shop-review-specification-thicknessfront"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Back Thickness:</h2></div><div class="shop-review-specification-thicknessback"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Front Color:</h2></div><div class="shop-review-specification-colorfront"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Back Color:</h2></div><div class="shop-review-specification-colorback"><h2></h2></div><div></div>
      <div style="text-align: end;"><h2>Cutting Depth:</h2></div><div class="shop-review-specification-cuttingdepth"><h2></h2></div><div></div>
      <div style="height: 25px;"></div><div></div><div></div>
      <div style="text-align: end; color:rgb(255, 0, 0)"><h3>Costing Calculation</h3></div><div style="text-align: center; color:rgb(255, 0, 0)"><h3>Rate</h3></div><div style="text-align: start; color:rgb(255, 0, 0)"><h3>How?</h3></div>
      <div style="text-align: end;"><h2>Raw Material:</h2></div><div class="shop-review-cost-rate"><h2></h2></div><div class="shop-review-cost-how"></div>
      <div style="text-align: end;"><h2>Machining:</h2></div><div class="shop-review-cost-rate"><h2></h2></div><div class="shop-review-cost-how"></div>
      <div style="text-align: end;"><h2>Assembly:</h2></div><div class="shop-review-cost-rate"><h2></h2></div><div class="shop-review-cost-how"></div>
      <div style="text-align: end;"><h2>Post Processing:</h2></div><div class="shop-review-cost-rate"><h2></h2></div><div class="shop-review-cost-how"></div>
      <div style="text-align: end;"><h2>Packaging:</h2></div><div class="shop-review-cost-rate"><h2></h2></div><div class="shop-review-cost-how"></div>
      <div style="text-align: end; color:rgb(4, 114, 0)"><h3>Total:</h3></div><div style="text-align: center; color:rgb(0, 0, 0)"><h3></h3></div><div style="text-align: start; color:rgb(0, 0, 0)"><h3></h3></div>
      <div style="height: 25px;"></div><div></div><div></div>

      <div style="display: flex; justify-content: end;"><h5 style="display:flex; align-items:end;">Quantity:</h5></div>
      <div style="display: flex; justify-content: center; align-items: end; font-size: 30px;">X<input type="number" value=1 style="height: 50px; width: 100px; font-size: 30px; text-align: end;"></input></div>
      <div><button class="unselected" style="width: 100px; height: 50px; border-radius: 20px; font-size: 30px;">BUY</button></div>

      <div style="height: 25px;"></div><div></div><div></div>

    </div>
  </div>

  <div class="shop-basepellete">
    <div class="shop-designfile shop-containerpellete shop-containerpellete-designfile">
      <div style="text-align:left;">
        <button class="shop-designfile-button unselected" onclick="DesignOpen()"><h2>Open Design</h2></button>
      </div>
      <div style="text-align: center;">
        <button class="shop-designfile-button unselected" onclick="DesignUpload()"><h2>Upload DXF</h2></button>
      </div>
      <div style="text-align: right;">
        <button class="shop-designfile-button unselected" onclick="DesignSave()"><h2>Save Design</h2></button>
      </div>
    </div>  
  </div>

  <div class="loadingscreen" style="display: flex;">

    <div style="
      position: fixed; 
      top:0px; left:0px; right:0px; bottom:0px; 
      width: 100%; height: 100%;
      z-index: 999;
      background-color: rgba(0.5,0.5,0.5,0.8);">

      <div style="
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1000;
      ">
        <h8><span style = "color: white;">Loading Design...</span></h8>
      </div>

    </div>

  </div>
</body>
</html>
<style>
.editorribbon
{
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;

  position: fixed;
  top:0px;
  left: 0px;
  right: 0px;
  z-index: 999;

  height: 110px;
  align-items: center;
  padding-left: 50px;
  padding-right: 50px;
  column-gap: 10px;

  background-color: #FFFFFF;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}
.editorribbonbutton
{  
  margin-top: 65px;
  margin-bottom: 5px;
  display: flex;
  height: 40px;
  border-radius: 10px;
  justify-content: center;
  align-items: center;
  text-align: center;

  text-decoration: none;
  font-size: 25px;
  color: #1a1a1a;
}

.shop-basepellete
{
  background-color: rgb(124,85,59);
  border-radius: 30px;
  padding: 20px;
  padding-top: 10px;
  padding-bottom: 10px;
  margin-top: 30px;
  margin-bottom: 30px;
}
.shop-containerpellete
{
  background-color: rgb(228, 228, 228);
  border-radius: 10px;
  border-style: solid;
  padding: 10px;
  margin-top: 10px;
  margin-bottom: 10px;

  display: grid;
  grid-template-columns: 220px 1fr;
}
.shop-containerpellete-specifications
{
  display: grid;
  grid-template-columns: 220px 1fr;
}
.shop-containerpellete-designfile
{
  width: 100%;
  box-sizing: border-box;
}
.shop-manufacturingconfig-options
{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}
.shop-manufacturingconfig-input
{
  width: 213px;
  height: 50px;
  text-align: center;
  border-style: solid;
  border-width: 2px;
  border-radius: 10px;
  border-color: black;

  font-size: 20px;
}
.shop-manufacturingconfig-button
{
  width: 220px;
  height: 50px;
  text-align: center;
  border-style: solid;
  border-width: 2px;
  border-radius: 10px;
  border-color: black;
  vertical-align: middle;

  position: relative;
}
.shop-manufacturingconfig-button-colorpatch
{
  position: absolute;
  top: 8px;
  right: 6px;

  width: 40px;
  height: 30px;
  border-style: solid;
  border-width: 1px;
  border-radius: 5px;
  border-color: black;
}

.shop-designelements-tray
{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;

  position: relative;
}
.shop-designelements-tray-editor
{
  display: inline-block;
  margin: 10px;
  width: 630px;
  height: 50px;

  border-radius: 20px;
  border-style: solid;
  text-align: left;  

  padding-left: 20px;
  padding-bottom: 10px;
  margin-right: 100px;

  position: relative;
}
.shop-designelements-tray-item
{
  display: block;
  height: 250px;
  position: relative;
}
.shop-designelements-tray-editor-input
{
  display: inline-flex;
  width: 200px;
  margin-left: auto;
  margin-right: auto;
  height: 30px;
  text-align: center;
  border-style: solid;
  border-width: 2px;
  border-radius: 10px;
  border-color: black;
  font-size: 20px;
  margin-top: 10px;
}
.shop-designelements-tray-item-button
{
  position: absolute;
  width: 50px;
  height: 50px;
  text-align: center;
  border-style: solid;
  border-width: 3px;
  border-radius: 25px;
  border-color: rgb(0, 0, 0);
  vertical-align: middle;
  justify-content: center;  
}
.shop-designelements-tray-item-button:hover
{
  color: rgb(255, 115, 0);
}
.shop-designelements-tray-item-img
{
  margin: 10px;;
  width: 200px;
  height: 200px;
  border-radius: 20px;
  border-style: solid;
  border-width: 2px;
}

.shop-designfile
{
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
}
.shop-designfile-button
{
  width: 200px;
  height: 50px;
  text-align: center;
  border-style: solid;
  border-width: 2px;
  border-radius: 10px;
  border-color: black;
  vertical-align: middle;
}

.shop-review-grid
{
  display: grid;
  grid-template-columns:300px 1fr 1fr;
  gap: 10px;  
}
</style>

<script src="wasm/LYIWebsite.js"></script>  
<script src="script.js"></script>
<script>
var zoom = 1.0;
var buttonleftmousedown = false;
var mousex = 0, mousey = 0;
var touchxp = 0, touchyp = 0;
var squeeze = 0;
var viewer = document.getElementById("viewer");
var canvas = document.querySelector("canvas");
canvas.width = viewer.clientWidth;
canvas.height = viewer.clientHeight;
var ctx = canvas.getContext("2d");
ctx.resetTransform();
ctx.translate(canvas.width/2,canvas.height/2);
ctx.scale(1,-1);  
addEventListener("resize", function() 
{
  canvas.width = viewer.clientWidth;
  canvas.height = viewer.clientHeight;
  ctx.resetTransform();
  ctx.translate(canvas.width/2,canvas.height/2);
  ctx.scale(1,-1);
  Draw();
});
canvas.addEventListener('wheel', function(event) 
{
  event.preventDefault();
  zoom -= (event.deltaY/1000) * zoom;
  if(zoom < 0.1)
    zoom = 0.1;
  Draw();
});
canvas.addEventListener('mousedown', function(event) 
{
  event.preventDefault();
  if (event.button === 0) 
    buttonleftmousedown = true;
});
document.addEventListener('mouseup', function(event) 
{
  if (event.button === 0) 
    buttonleftmousedown = false;
});
document.addEventListener('mousemove', function(event) 
{
  if (buttonleftmousedown) 
  {
    mousex += event.movementX / zoom;
    mousey -= event.movementY / zoom;
    Draw();
  }
});
canvas.addEventListener('touchstart', function(event) 
{
  event.preventDefault();
  if (event.touches.length === 1) 
  {
    buttonleftmousedown = true;
    touchxp = event.touches[0].clientX;
    touchyp = event.touches[0].clientY;
  }    
  if (event.touches.length === 2) 
  {
    var touchx0 = event.touches[0].clientX;
    var touchy0 = event.touches[0].clientY;
    var touchx1 = event.touches[1].clientX;
    var touchy1 = event.touches[1].clientY;

    squeeze = Math.sqrt((touchx1-touchx0)*(touchx1-touchx0) + (touchy1-touchy0)*(touchy1-touchy0));
  }    
});
document.addEventListener('touchend', function(event) 
{
  buttonleftmousedown = false;    
});
document.addEventListener('touchmove', function(event) 
{
  if (buttonleftmousedown && event.touches.length === 1) 
  {
    mousex += (event.touches[0].clientX - touchxp) / zoom;
    mousey -= (event.touches[0].clientY - touchyp) / zoom;
    touchxp = event.touches[0].clientX;
    touchyp = event.touches[0].clientY;
    Draw();
  }

  if (event.touches.length === 2) 
  {
    var touchx0 = event.touches[0].clientX;
    var touchy0 = event.touches[0].clientY;
    var touchx1 = event.touches[1].clientX;
    var touchy1 = event.touches[1].clientY;

    var newsqueeze = Math.sqrt((touchx1-touchx0)*(touchx1-touchx0) + (touchy1-touchy0)*(touchy1-touchy0));
    zoom += zoom * (newsqueeze - squeeze)/1000;
    if(zoom < 0.1)
      zoom = 0.1;
    Draw();
    squeeze = newsqueeze;
  }
});

var dimensionsunit = 'mm';  
OnClickView('Specifications');
//OnClickView('DesignElements');
//OnClickView('ReviewCost');
OnClickUnit('mm');

function OnClickViewerZoom()
{
  OnClickViewerZoom.zoomstate = OnClickViewerZoom.zoomstate || 0;

  if(OnClickViewerZoom.zoomstate == 0)
  {
    document.getElementById("viewer").style.height = "70vh";
    viewer = document.getElementById("viewer");
    canvas = document.querySelector("canvas");
    canvas.width = viewer.clientWidth;
    canvas.height = viewer.clientHeight;
    ctx.resetTransform();
    ctx.translate(canvas.width/2,canvas.height/2);
    ctx.scale(1,-1);  
    document.getElementById("viewerzoombutton").innerHTML = "zoom_in_map"
    Draw();
    OnClickViewerZoom.zoomstate = 1;
  }
  else
  {
    document.getElementById("viewer").style.height = "500px";
    viewer = document.getElementById("viewer");
    canvas = document.querySelector("canvas");
    canvas.width = viewer.clientWidth;
    canvas.height = viewer.clientHeight;
    ctx.resetTransform();
    ctx.translate(canvas.width/2,canvas.height/2);
    ctx.scale(1,-1);  
    document.getElementById("viewerzoombutton").innerHTML = "zoom_out_map"
    Draw();
    OnClickViewerZoom.zoomstate = 0;
  }
}

function OnClickView(type)
{
  var index = undefined;
  if(type == 'Specifications')index = 0;
  if(type == 'DesignElements')index = 1;
  if(type == 'ReviewCost')index = 2;
  SelectButton(document.querySelector(".editorribbon"), index);

  document.querySelector(".shop-manufacturingspecification").style.display = "none";
  document.querySelector(".shop-designelements").style.display = "none";
  document.querySelector(".shop-review").style.display = "none";
  if(index == 0)document.querySelector(".shop-manufacturingspecification").style.display = "block";
  if(index == 1)document.querySelector(".shop-designelements").style.display = "block";
  if(index == 2){document.querySelector(".shop-review").style.display = "block";if(typeof PopulateCost == 'function')PopulateCost();}
}

function OnChangeDimensionsLength(input)
{
  if(dimensionsunit == 'mm')if(input.value > 2440)input.value = 2440;
  if(dimensionsunit == 'inches')if(input.value > 96.063)input.value = 96.063;
  if(dimensionsunit == 'feet')if(input.value > 8.005)input.value = 8.005;
  SetSizeOptions();
}
function OnChangeDimensionsWidth(input)
{
  if(dimensionsunit == 'mm')if(input.value > 2440)input.value = 2440;
  if(dimensionsunit == 'inches')if(input.value > 96.063)input.value = 96.063;
  if(dimensionsunit == 'feet')if(input.value > 8.005)input.value = 8.005;
  SetSizeOptions();
}
function SetSizeOptions()
{
  DisableButton(document.querySelector(".size-1x1"));
  DisableButton(document.querySelector(".size-2x1"));
  DisableButton(document.querySelector(".size-2x2"));
  DisableButton(document.querySelector(".size-4x1"));
  DisableButton(document.querySelector(".size-4x2"));
  DisableButton(document.querySelector(".size-4x3"));
  DisableButton(document.querySelector(".size-4x4"));
  DisableButton(document.querySelector(".size-5x2"));
  DisableButton(document.querySelector(".size-5x4"));
  DisableButton(document.querySelector(".size-6x2"));
  DisableButton(document.querySelector(".size-6x4"));
  DisableButton(document.querySelector(".size-8x1"));
  DisableButton(document.querySelector(".size-8x1"));
  DisableButton(document.querySelector(".size-8x4"));

  var dimensionslength = document.querySelector(".dimensions-length");
  var dimensionswidth = document.querySelector(".dimensions-width");
  var length = parseFloat(dimensionslength.value);
  var width = parseFloat(dimensionswidth.value);
  manufacturingspecifications.dimensionsx = length;
  manufacturingspecifications.dimensionsy = width;

  LoadRawMaterial(document.querySelector(".dimensions-length").value, document.querySelector(".dimensions-width").value);

  if(parseFloat(dimensionswidth.value) > parseFloat(dimensionslength.value))
  {
    var temp = length;
    length = width;
    width = temp;
  }

  if(dimensionsunit == "mm")
  {
    var lengthinfeet = Math.ceil(length / 304.8);
    var widthinfeet = Math.ceil(width / 304.8);
    if(length > (8*304.8) && length <= 2440)lengthinfeet = 8;
    if(width > (4*304.8) && width <= 1220)widthinfeet = 4;
  }
  if(dimensionsunit == "inches")
  {
    var lengthinfeet = Math.ceil(length / 12);
    var widthinfeet = Math.ceil(width / 12);
    if(length > (8*12) && length <= 96.063)lengthinfeet = 8;
    if(width > (4*12) && width <= 48.031)widthinfeet = 4;
  }
  if(dimensionsunit == "feet")
  {
    var lengthinfeet = Math.ceil(length);
    var widthinfeet = Math.ceil(width);
    if(length > 8 && length <= 8.005)lengthinfeet = 8;
    if(width > 4 && width <= 4.003)widthinfeet = 4;
  }

  if(lengthinfeet == 1 && widthinfeet == 1){EnableButton(document.querySelector(".size-1x1"));OnClickSize('1ft x 1ft');}
  if(lengthinfeet == 2 && widthinfeet == 1){EnableButton(document.querySelector(".size-2x1"));OnClickSize('2ft x 1ft');}
  if(lengthinfeet == 2 && widthinfeet == 2){EnableButton(document.querySelector(".size-2x2"));OnClickSize('2ft x 2ft');}
  if(lengthinfeet == 3 && widthinfeet == 1){EnableButton(document.querySelector(".size-4x1"));OnClickSize('4ft x 1ft');}
  if(lengthinfeet == 3 && widthinfeet == 2){EnableButton(document.querySelector(".size-4x2"));OnClickSize('4ft x 2ft');}
  if(lengthinfeet == 3 && widthinfeet == 3){EnableButton(document.querySelector(".size-4x3"));OnClickSize('4ft x 3ft');}
  if(lengthinfeet == 4 && widthinfeet == 1){EnableButton(document.querySelector(".size-4x1"));OnClickSize('4ft x 1ft');}
  if(lengthinfeet == 4 && widthinfeet == 2){EnableButton(document.querySelector(".size-4x2"));OnClickSize('4ft x 2ft');}
  if(lengthinfeet == 4 && widthinfeet == 3){EnableButton(document.querySelector(".size-4x3"));OnClickSize('4ft x 3ft');}
  if(lengthinfeet == 4 && widthinfeet == 4){EnableButton(document.querySelector(".size-4x4"));OnClickSize('4ft x 4ft');}
  if(lengthinfeet == 5 && widthinfeet == 1){EnableButton(document.querySelector(".size-5x2"));OnClickSize('5ft x 2ft');}
  if(lengthinfeet == 5 && widthinfeet == 2){EnableButton(document.querySelector(".size-5x2"));OnClickSize('5ft x 2ft');}
  if(lengthinfeet == 5 && widthinfeet == 3){EnableButton(document.querySelector(".size-5x4"));OnClickSize('5ft x 4ft');}
  if(lengthinfeet == 5 && widthinfeet == 4){EnableButton(document.querySelector(".size-5x4"));OnClickSize('5ft x 4ft');}
  if(lengthinfeet == 6 && widthinfeet == 1){EnableButton(document.querySelector(".size-6x2"));OnClickSize('6ft x 2ft');}
  if(lengthinfeet == 6 && widthinfeet == 2){EnableButton(document.querySelector(".size-6x2"));OnClickSize('6ft x 2ft');}
  if(lengthinfeet == 6 && widthinfeet == 3){EnableButton(document.querySelector(".size-6x4"));OnClickSize('6ft x 4ft');}
  if(lengthinfeet == 6 && widthinfeet == 4){EnableButton(document.querySelector(".size-6x4"));OnClickSize('6ft x 4ft');}
  if(lengthinfeet == 7 && widthinfeet == 1){EnableButton(document.querySelector(".size-8x1"));OnClickSize('8ft x 1ft');}
  if(lengthinfeet == 7 && widthinfeet == 2){EnableButton(document.querySelector(".size-8x2"));OnClickSize('8ft x 2ft');}
  if(lengthinfeet == 7 && widthinfeet == 3){EnableButton(document.querySelector(".size-8x4"));OnClickSize('8ft x 4ft');}
  if(lengthinfeet == 7 && widthinfeet == 4){EnableButton(document.querySelector(".size-8x4"));OnClickSize('8ft x 4ft');}
  if(lengthinfeet == 8 && widthinfeet == 1){EnableButton(document.querySelector(".size-8x1"));OnClickSize('8ft x 1ft');}
  if(lengthinfeet == 8 && widthinfeet == 2){EnableButton(document.querySelector(".size-8x2"));OnClickSize('8ft x 2ft');}
  if(lengthinfeet == 8 && widthinfeet == 3){EnableButton(document.querySelector(".size-8x4"));OnClickSize('8ft x 4ft');}
  if(lengthinfeet == 8 && widthinfeet == 4){EnableButton(document.querySelector(".size-8x4"));OnClickSize('8ft x 4ft');}

  OnChangeBorder();
}
function OnClickUnit(type)
{
  var dimensionslength = document.querySelector(".dimensions-length");
  var dimensionswidth = document.querySelector(".dimensions-width");
  if(dimensionsunit == 'mm')
  {
    if(type == 'inches')
    {
      dimensionslength.value /= 25.4;
      dimensionswidth.value /= 25.4;
    }
    if(type == 'feet')
    {
      dimensionslength.value /= 304.8;
      dimensionswidth.value /= 304.8;
    }
  }
  if(dimensionsunit == 'inches')
  {
    if(type == 'mm')
    {
      dimensionslength.value *= 25.4;
      dimensionswidth.value *= 25.4;
    }
    if(type == 'feet')
    {
      dimensionslength.value /= 12;
      dimensionswidth.value /= 12;
    }
  }
  if(dimensionsunit == 'feet')
  {
    if(type == 'mm')
    {
      dimensionslength.value *= 304.8;
      dimensionswidth.value *= 304.8;
    }
    if(type == 'inches')
    {
      dimensionslength.value *= 12;
      dimensionswidth.value *= 12;
    }
  }

  dimensionslength.value = Math.round(dimensionslength.value * 1000) / 1000;
  dimensionswidth.value = Math.round(dimensionswidth.value * 1000) / 1000;

  dimensionsunit = type;
  var index = undefined;
  if(type == 'mm')index = 0;
  if(type == 'inches')index = 1;
  if(type == 'feet')index = 2;
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[0], index);
}

function OnClickSize(type)
{
  manufacturingspecifications.size = type;
  var index = undefined;
  if(type == '1ft x 1ft')index = 0;
  if(type == '2ft x 1ft')index = 1;
  if(type == '2ft x 2ft')index = 2;
  if(type == '4ft x 1ft')index = 3;
  if(type == '4ft x 2ft')index = 4;
  if(type == '4ft x 3ft')index = 5;
  if(type == '4ft x 4ft')index = 6;
  if(type == '5ft x 2ft')index = 7;
  if(type == '5ft x 4ft')index = 8;
  if(type == '6ft x 2ft')index = 9;
  if(type == '6ft x 4ft')index = 10;
  if(type == '8ft x 1ft')index = 11;
  if(type == '8ft x 2ft')index = 12;
  if(type == '8ft x 4ft')index = 13;
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[1], index);
}

function OnClickSupplier(type)
{
  manufacturingspecifications.supplier = type;
  var index = undefined;
  if(type == 'LightYear')index = 0;
  if(type == 'Customer')index = 1;
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[2], index);
}
  
function OnClickConstruction(type)
{
  manufacturingspecifications.construction = type;
  var index = undefined;

  document.querySelectorAll(".process-laser").forEach(element => {EnableButton(element);});

  if(type=='Standalone')
  {
    document.querySelector(".shop-manufacturingconfig-materialfront").style.display="grid"
    document.querySelector(".shop-manufacturingconfig-materialback").style.display="none"
    document.querySelector(".shop-manufacturingconfig-materialhalfdepth").style.display="none"
    index = 0;
    manufacturingspecifications.materialback = undefined;
    manufacturingspecifications.thicknessback = undefined;
    manufacturingspecifications.colorback = undefined;
  }
  if(type=='Back-Supported')
  {
    document.querySelector(".shop-manufacturingconfig-materialfront").style.display="grid"
    document.querySelector(".shop-manufacturingconfig-materialback").style.display="grid"
    document.querySelector(".shop-manufacturingconfig-materialhalfdepth").style.display="none"
    index = 1;
}
  if(type=='Half-Depth')
  {
    document.querySelector(".shop-manufacturingconfig-materialfront").style.display="none"
    document.querySelector(".shop-manufacturingconfig-materialback").style.display="none"
    document.querySelector(".shop-manufacturingconfig-materialhalfdepth").style.display="grid"
    index = 2;

    document.querySelectorAll(".process-laser").forEach(element => {DisableButton(element);});
  }
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[3], index);

  for(var i=4;i<document.querySelectorAll(".shop-manufacturingconfig-options").length;i++)
    SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[i], -1);  

  for(var i=5;i<document.querySelectorAll(".shop-manufacturingconfig-options").length - 1;i++)
    DisableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[i]);  
}

function OnClickProcess(type)
{
  manufacturingspecifications.process = type;
  manufacturingspecifications.materialfront = undefined;
  manufacturingspecifications.materialback = undefined;
  manufacturingspecifications.thicknessfront = undefined;
  manufacturingspecifications.thicknessback = undefined;
  manufacturingspecifications.colorfront = undefined;
  manufacturingspecifications.colorback = undefined;

  var index = undefined;
  if(type == 'CNC Laser 0.5mm')index = 0;
  if(type == 'CNC Router 3mm')index = 1;
  if(type == 'CNC Router 4mm')index = 2;
  if(type == 'CNC Router 6mm')index = 3;
  if(type == 'CNC Router 8mm')index = 4;
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[4], index);

  for(var i=5;i<document.querySelectorAll(".shop-manufacturingconfig-options").length - 1;i++)
    SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[i], -1);    

  EnableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[5]);
  DisableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[6]);
  DisableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[7]);  
  EnableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[8]);
  DisableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[9]);
  DisableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[10]);
  DisableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[11]);
  DisableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[12]);
  DisableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[13]);
  DisableButtons(document.querySelectorAll(".shop-manufacturingconfig-options")[14]);

  document.querySelectorAll(".front-acrylic").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-corian").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-acp").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-laminatedplywood").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-mdf").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-wpcpvcfoam").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-cementsheet").forEach(element => {EnableButton(element);});
  if(index == 0)
  {
    document.querySelectorAll(".front-acp").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-laminatedplywood").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-cementsheet").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-mdf").forEach(element => {DisableButton(element);});
  }
  if(index == 1)
  {
    document.querySelectorAll(".front-cementsheet").forEach(element => {DisableButton(element);});
  }
  if(index == 2)
  {
    document.querySelectorAll(".front-cementsheet").forEach(element => {DisableButton(element);});
  }
  if(index == 3)
  {
  }
  if(index == 4)
  {
  } 
}

function OnClickMaterialFront(type)
{
  manufacturingspecifications.materialfront = type;
  manufacturingspecifications.thicknessfront = undefined;
  manufacturingspecifications.colorfront = undefined;

  var index = undefined;
  if(type == 'Acrylic')index = 0;
  if(type == 'Corian')index = 1;
  if(type == 'ACP')index = 2;
  if(type == 'Laminated Plywood')index = 3;
  if(type == 'MDF')index = 4;
  if(type == 'WPC/PVC/Foam')index = 5;
  if(type == 'Cement Sheet')index = 6;
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[5], index);
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[11], index);

  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[6], -1);
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[7], -1);
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[12], -1);
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[13], -1);

  document.querySelectorAll(".front-1mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-2mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-3mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-4mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-5mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-6mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-8mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-10mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-12mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-15mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-18mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-20mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-25mm").forEach(element => {EnableButton(element);});

  document.querySelectorAll(".front-white").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-black").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-red").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-green").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-blue").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-orange").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-brown").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-yellow").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-transparent").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-white040").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".front-raw").forEach(element => {EnableButton(element);});

  if(index == 0)
  {
    document.querySelectorAll(".front-raw").forEach(element => {DisableButton(element);});
  }

  if(index == 1)
  {
    document.querySelectorAll(".front-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-3mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-4mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-5mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-8mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-10mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-15mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-18mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-20mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-25mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".front-black").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-red").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-green").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-blue").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-orange").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-brown").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-yellow").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-white040").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-raw").forEach(element => {DisableButton(element);});
  }

  if(index == 2)
  {
    document.querySelectorAll(".front-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-4mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-5mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-6mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-8mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-10mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-12mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-15mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-18mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-20mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-25mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".front-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-white040").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-raw").forEach(element => {DisableButton(element);});
  }

  if(index == 3)
  {
    document.querySelectorAll(".front-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-3mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-4mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-5mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-6mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-8mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-10mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-15mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-20mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-25mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".front-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-white040").forEach(element => {DisableButton(element);});    
  }

  if(index == 4)
  {
    document.querySelectorAll(".front-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-3mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-4mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".front-white").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-black").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-red").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-green").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-blue").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-orange").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-brown").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-yellow").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-white040").forEach(element => {DisableButton(element);});
  }

  if(index == 5)
  {
    document.querySelectorAll(".front-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-4mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".front-black").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-red").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-green").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-blue").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-orange").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-brown").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-yellow").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-white040").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".front-raw").forEach(element => {DisableButton(element);});
  }

  if(index == 6)
    {
      document.querySelectorAll(".front-1mm").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-2mm").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-3mm").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-4mm").forEach(element => {DisableButton(element);});
  
      document.querySelectorAll(".front-white").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-black").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-red").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-green").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-blue").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-orange").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-brown").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-yellow").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-transparent").forEach(element => {DisableButton(element);});
      document.querySelectorAll(".front-white040").forEach(element => {DisableButton(element);});
    }

  if(manufacturingspecifications.process == 'CNC Laser 0.5mm')document.querySelectorAll(".front-25mm").forEach(element => {DisableButton(element);});
  if(manufacturingspecifications.process != 'CNC Laser 0.5mm')document.querySelectorAll(".front-1mm").forEach(element => {DisableButton(element);});
}

function OnClickMaterialBack(type)
{
  manufacturingspecifications.materialback = type;
  manufacturingspecifications.thicknessback = undefined;
  manufacturingspecifications.colorback = undefined;
  
  var index = undefined;
  if(type == 'Acrylic')index = 0;
  if(type == 'Corian')index = 1;
  if(type == 'ACP')index = 2;
  if(type == 'Laminated Plywood')index = 3;
  if(type == 'MDF')index = 4;
  if(type == 'WPC/PVC/Foam')index = 5;
  if(type == 'Cement Sheet')index = 6;
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[8], index);

  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[9], -1);
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[10], -1);

  document.querySelectorAll(".back-1mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-2mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-3mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-4mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-5mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-6mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-8mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-10mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-12mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-15mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-18mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-20mm").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-25mm").forEach(element => {EnableButton(element);});

  document.querySelectorAll(".back-white").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-black").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-red").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-green").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-blue").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-orange").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-brown").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-yellow").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-transparent").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-white040").forEach(element => {EnableButton(element);});
  document.querySelectorAll(".back-raw").forEach(element => {EnableButton(element);});

  if(index == 0)
  {
    document.querySelectorAll(".back-raw").forEach(element => {DisableButton(element);});
  }

  if(index == 1)
  {
    document.querySelectorAll(".back-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-3mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-4mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-5mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-8mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-10mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-15mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-18mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-20mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-25mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".back-black").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-red").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-green").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-blue").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-orange").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-brown").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-yellow").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-white040").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-raw").forEach(element => {DisableButton(element);});
  }

  if(index == 2)
  {
    document.querySelectorAll(".back-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-4mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-5mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-6mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-8mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-10mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-12mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-15mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-18mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-20mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-25mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".back-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-white040").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-raw").forEach(element => {DisableButton(element);});
  }

  if(index == 3)
  {
    document.querySelectorAll(".back-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-3mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-4mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-5mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-6mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-8mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-10mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-15mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-20mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-25mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".back-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-white040").forEach(element => {DisableButton(element);});    
  }

  if(index == 4)
  {
    document.querySelectorAll(".back-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-3mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-4mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".back-white").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-black").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-red").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-green").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-blue").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-orange").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-brown").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-yellow").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-white040").forEach(element => {DisableButton(element);});
  }

  if(index == 5)
  {
    document.querySelectorAll(".back-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-4mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".back-black").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-red").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-green").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-blue").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-orange").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-brown").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-yellow").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-white040").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-raw").forEach(element => {DisableButton(element);});
  }

  if(index == 6)
  {
    document.querySelectorAll(".back-1mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-2mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-3mm").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-4mm").forEach(element => {DisableButton(element);});

    document.querySelectorAll(".back-white").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-black").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-red").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-green").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-blue").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-orange").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-brown").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-yellow").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-transparent").forEach(element => {DisableButton(element);});
    document.querySelectorAll(".back-white040").forEach(element => {DisableButton(element);});
  }
}

function OnClickThicknessFront(type)
{
  manufacturingspecifications.thicknessfront = type;
  var index = undefined;
  
  if(type == '1mm')index = 0;
  if(type == '2mm')index = 1;
  if(type == '3mm')index = 2;
  if(type == '4mm')index = 3;
  if(type == '5mm')index = 4;
  if(type == '6mm')index = 5;
  if(type == '8mm')index = 6;
  if(type == '10mm')index = 7;
  if(type == '12mm')index = 8;
  if(type == '15mm')index = 9;
  if(type == '18mm')index = 10;
  if(type == '20mm')index = 11;
  if(type == '25mm')index = 12;
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[6], index);
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[12], index);

  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[14], -1);
}

function OnClickThicknessBack(type)
{
  manufacturingspecifications.thicknessback = type;
  var index = undefined;
  
  if(type == '1mm')index = 0;
  if(type == '2mm')index = 1;
  if(type == '3mm')index = 2;
  if(type == '4mm')index = 3;
  if(type == '5mm')index = 4;
  if(type == '6mm')index = 5;
  if(type == '8mm')index = 6;
  if(type == '10mm')index = 7;
  if(type == '12mm')index = 8;
  if(type == '15mm')index = 9;
  if(type == '18mm')index = 10;
  if(type == '20mm')index = 11;
  if(type == '25mm')index = 12;
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[9], index);
}

function OnClickColorFront(type)
{
  manufacturingspecifications.colorfront = type;
  if(manufacturingspecifications.construction == 'Half-Depth')
  {
    manufacturingspecifications.colorback = type;
    if(manufacturingspecifications.materialfront == "Laminated Plywood")
      manufacturingspecifications.colorback = "RAW";
      if(manufacturingspecifications.materialfront == "ACP")
      manufacturingspecifications.colorback = "Black";
  }
  var index = undefined;
  if(type == 'White')index = 0;
  if(type == 'Black')index = 1;
  if(type == 'Red')index = 2;
  if(type == 'Green')index = 3;
  if(type == 'Blue')index = 4;
  if(type == 'Orange')index = 5;
  if(type == 'Brown')index = 6;
  if(type == 'Yellow')index = 7;
  if(type == 'Transparent')index = 8;
  if(type == 'White040')index = 9;
  if(type == 'RAW')index = 10;
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[7], index);
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[14], index);

  LoadRawMaterial(document.querySelector(".dimensions-length").value, document.querySelector(".dimensions-width").value);
}

function OnClickColorBack(type)
{
  manufacturingspecifications.colorback = type;
  var index = undefined;
  if(type == 'White')index = 0;
  if(type == 'Black')index = 1;
  if(type == 'Red')index = 2;
  if(type == 'Green')index = 3;
  if(type == 'Blue')index = 4;
  if(type == 'Orange')index = 5;
  if(type == 'Brown')index = 6;
  if(type == 'Yellow')index = 7;
  if(type == 'Transparent')index = 8;
  if(type == 'White040')index = 9;
  if(type == 'RAW')index = 10;
  SelectButton(document.querySelectorAll(".shop-manufacturingconfig-options")[10], index);

  LoadRawMaterial(document.querySelector(".dimensions-length").value, document.querySelector(".dimensions-width").value);
}

function OnChangeCuttingDepth(input)
{
  if(input.value > parseInt(manufacturingspecifications.thicknessfront))input.value = parseInt(manufacturingspecifications.thicknessfront) -2;
  manufacturingspecifications.cuttingdepth = input.value;
}

function OnChangeBorder()
{
  if((manufacturingspecifications.dimensionsx >= 1) && (manufacturingspecifications.dimensionsy >= 1))
  {
    var bordertop = parseFloat(document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[0].value);
    var borderbottom = parseFloat(document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[1].value);
    var borderleft = parseFloat(document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[2].value);
    var borderright = parseFloat(document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[3].value);

    manufacturingspecifications.spanbottom = -(manufacturingspecifications.dimensionsy/2 - borderbottom);
    manufacturingspecifications.spantop = +(manufacturingspecifications.dimensionsy/2 - bordertop);
    manufacturingspecifications.spanleft = -(manufacturingspecifications.dimensionsx/2 - borderleft);
    manufacturingspecifications.spanright = +(manufacturingspecifications.dimensionsx/2 - borderright);

    if(manufacturingspecifications.spanbottom > 0)manufacturingspecifications.spanbottom = 0;
    if(manufacturingspecifications.spantop < 0)manufacturingspecifications.spantop = 0;
    if(manufacturingspecifications.spanleft > 0)manufacturingspecifications.spanleft = 0;
    if(manufacturingspecifications.spanright < 0)manufacturingspecifications.spanright = 0;

    document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[0].value = (manufacturingspecifications.dimensionsy/2) - manufacturingspecifications.spantop;
    document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[1].value = (manufacturingspecifications.dimensionsy/2) + manufacturingspecifications.spanbottom; 
    document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[2].value = (manufacturingspecifications.dimensionsx/2) + manufacturingspecifications.spanleft;
    document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[3].value = (manufacturingspecifications.dimensionsx/2) - manufacturingspecifications.spanright;
    Draw();
  }
}

function PopulateCost()
{
  document.querySelector(".shop-review-specification-dimensionx").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.dimensionsx + 'mm</h2>';
  document.querySelector(".shop-review-specification-dimensiony").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.dimensionsy + 'mm</h2>';
  document.querySelector(".shop-review-specification-size").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.size + '</h2>';
  document.querySelector(".shop-review-specification-construction").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.construction + '</h2>';
  document.querySelector(".shop-review-specification-process").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.process + '</h2>';
  document.querySelector(".shop-review-specification-materialfront").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.materialfront + '</h2>';
  document.querySelector(".shop-review-specification-materialback").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.materialback + '</h2>';
  document.querySelector(".shop-review-specification-thicknessfront").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.thicknessfront + '</h2>';
  document.querySelector(".shop-review-specification-thicknessback").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.thicknessback + '</h2>';
  document.querySelector(".shop-review-specification-colorfront").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.colorfront + '</h2>';
  document.querySelector(".shop-review-specification-colorback").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.colorback + '</h2>';
  document.querySelector(".shop-review-specification-cuttingdepth").innerHTML = '<h2 style="color:blue">' + manufacturingspecifications.cuttingdepth + 'mm</h2>';

  document.querySelector(".shop-review").querySelectorAll("div").forEach(element => {
    if(element.innerHTML == '<h2 style="color:blue">undefined</h2>')element.innerHTML = '<h2 style="color:rgb(141, 0, 0);">Not Applicable</h2>';
  });
}

function FloatCompare(x)
{
  return Math.abs(x) < 0.0001;
}
class Point
{
  constructor(x,y)
  {
    this.x = x;
    this.y = y;
  }
};
class Line
{
  constructor()
  {
    this.p=undefined;
    this.q=undefined;
  }
};
class Loop
{
  constructor()
  {
    this.line = [];
    this.linecount = 0;
  }
}
class Link
{
  constructor()
  {
    this.line = [];
    this.linecount = 0;
  }
}
class Drawing
{
  constructor()
  {
    this.loop = [];
    this.loopcount = 0;
    this.link = [];
    this.linkcount = 0;
    this.loopdepth = [];
    this.maxloopdepth = 0;
  }
}
class DesignObject
{
  constructor()
  {
    this.drawing = undefined;
    this.drawinglength = 0;
    this.dxfurl = "";
    this.thumbnailurl = "";
    this.offsetx = 0;
    this.offsety = 0;
    this.angle = 0;
    this.scale = 1;
  }
}
class ManufacturingSpecifications
{
  constructor()
  {
    this.dimensionsx = 0;
    this.dimensionsy = 0;
    this.size = undefined;
    this.supplier = "LightYear";
    this.construction = "Standalone";
    this.process = "CNC Laser 0.5mm";
    this.materialfront = undefined;
    this.materialback = undefined;
    this.thicknessfront = undefined;
    this.thicknessback = undefined;
    this.colorfront = undefined;
    this.colorback = undefined;
    this.cuttingdepth = undefined;
    this.designrawmaterial = undefined;
    this.spantop = 0;
    this.spanbottom = 0;
    this.spanleft = 0;
    this.spanright = 0;
    this.designobject = [];
    this.designobjectlength = 0;
  }
}
function TransformPoint(point,offsetx, offsety, angle, scale)
{
  var _x = point.x;
  var _y = point.y;
  var cosangle = Math.cos(angle);
  var sinangle = Math.sin(angle);
  _x = point.x * cosangle - point.y * sinangle;
  _y = point.x * sinangle + point.y * cosangle;
  _x *= scale;
  _y *= scale;
  _x += offsetx;
  _y += offsety;
  const tranformedpoint = new Point(_x, _y);
  return tranformedpoint;
}
function TransformDesignObject(designobject,_offsetx, _offsety, _angle, _scale)
{
  designobject.offsetx = _offsetx;
  designobject.offsety = _offsety;
  designobject.angle = _angle;
  designobject.scale = _scale;
}
var manufacturingspecifications = new ManufacturingSpecifications();
const autoclosethreshold = 0.001;
const minimumstep = 0.01;

function FrontMaterialTypeToColor(type)
{
  if(type == 'Transparent')return "rgba(255,255,255,0)";
  if(type == 'White040')return "rgba(255,255,255,100)";
  if(type == 'RAW')
  {
    if(manufacturingspecifications.materialfront == 'Laminated Plywood')return "rgba(239, 222, 168,255)";
    if(manufacturingspecifications.materialfront == 'MDF')return "rgba(223, 147, 163,255)";
    if(manufacturingspecifications.materialfront == 'Cement Sheet')return "rgba(194, 194, 194)";
  }
  return type;
}
function BackMaterialTypeToColor(type)
{
  if(type == 'Transparent')return "rgba(255,255,255,0)";
  if(type == 'White040')return "rgba(255,255,255,100)";
  if(type == 'RAW')
  {
    if(manufacturingspecifications.materialback == 'Laminated Plywood')return "rgba(239, 222, 168,255)";
    if(manufacturingspecifications.materialback == 'MDF')return "rgba(223, 147, 163,255)";
    if(manufacturingspecifications.materialback == 'Cement Sheet')return "rgba(194, 194, 194)";
  }
  return type;
}
function Draw()
{
  ctx.save();
  ctx.clearRect(-canvas.width/2,-canvas.height/2,canvas.width,canvas.height);

  // ctx.strokeStyle = "red";
  // ctx.lineWidth = 1;
  // ctx.beginPath();
  // ctx.moveTo(mousex * zoom,mousey * zoom);
  // ctx.lineTo((100000) * zoom,mousey * zoom);
  // ctx.moveTo(mousex * zoom,mousey * zoom);
  // ctx.lineTo(mousex * zoom ,(100000) * zoom);    
  // ctx.moveTo(mousex * zoom,mousey * zoom);
  // ctx.lineTo(-(100000) * zoom,mousey * zoom);
  // ctx.moveTo(mousex * zoom,mousey * zoom);
  // ctx.lineTo(mousex * zoom,-(100000) * zoom);    
  // ctx.stroke();

  ctx.strokeStyle = "black";  

  if(manufacturingspecifications != undefined)
  {
    if(manufacturingspecifications.colorfront != undefined)
      ctx.fillStyle = FrontMaterialTypeToColor(manufacturingspecifications.colorfront);
    else
      ctx.fillStyle = FrontMaterialTypeToColor("Transparent");
    if(manufacturingspecifications.designrawmaterial != undefined)
    {
      ctx.beginPath();
      ctx.moveTo(((manufacturingspecifications.designrawmaterial[0].p.x + mousex) * zoom),((manufacturingspecifications.designrawmaterial[0].p.y + mousey) * zoom));
      ctx.lineTo(((manufacturingspecifications.designrawmaterial[0].q.x + mousex) * zoom),((manufacturingspecifications.designrawmaterial[0].q.y + mousey) * zoom));   
      ctx.lineTo(((manufacturingspecifications.designrawmaterial[1].q.x + mousex) * zoom),((manufacturingspecifications.designrawmaterial[1].q.y + mousey) * zoom));   
      ctx.lineTo(((manufacturingspecifications.designrawmaterial[2].q.x + mousex) * zoom),((manufacturingspecifications.designrawmaterial[2].q.y + mousey) * zoom));
      ctx.lineTo(((manufacturingspecifications.designrawmaterial[3].q.x + mousex) * zoom),((manufacturingspecifications.designrawmaterial[3].q.y + mousey) * zoom));    
      ctx.fill();
      ctx.stroke();
    }

    if((manufacturingspecifications.spantop!=0 || manufacturingspecifications.spanbottom!=0 || manufacturingspecifications.spanleft!=0 || manufacturingspecifications.spanright!=0))
    {
      ctx.beginPath();
      ctx.moveTo(((manufacturingspecifications.spanleft + mousex) * zoom),((manufacturingspecifications.spantop + mousey) * zoom));
      ctx.lineTo(((manufacturingspecifications.spanright + mousex) * zoom),((manufacturingspecifications.spantop + mousey) * zoom));
      ctx.lineTo(((manufacturingspecifications.spanright + mousex) * zoom),((manufacturingspecifications.spanbottom + mousey) * zoom));
      ctx.lineTo(((manufacturingspecifications.spanleft + mousex) * zoom),((manufacturingspecifications.spanbottom + mousey) * zoom));
      ctx.lineTo(((manufacturingspecifications.spanleft + mousex) * zoom),((manufacturingspecifications.spantop + mousey) * zoom));
      ctx.clip();      
    }

    for(var mdo=0;mdo<manufacturingspecifications.designobjectlength;mdo++)
    {
      if(manufacturingspecifications.designobject[mdo] != undefined && manufacturingspecifications.designobject[mdo].drawing != undefined)
      {
        var maxdepth = manufacturingspecifications.designobject[mdo].drawing.maxloopdepth;
        if(manufacturingspecifications.construction == "Standalone")
        if(manufacturingspecifications.process!= "CNC Laser 0.5mm")
          maxdepth = 1;
        for(var ld=0;ld<=maxdepth;ld++)
        {
          if(ld % 2 == 0)
          {
            if(manufacturingspecifications.colorfront != undefined)
              ctx.fillStyle = FrontMaterialTypeToColor(manufacturingspecifications.colorfront);
            else
              ctx.fillStyle = FrontMaterialTypeToColor("White");
          }
          else
          {
            if(manufacturingspecifications.colorback != undefined)
              ctx.fillStyle = BackMaterialTypeToColor(manufacturingspecifications.colorback);
            else
              ctx.fillStyle = BackMaterialTypeToColor("White");
          }
          ctx.strokeStyle = "Black"; 
          for(var l=0;l<manufacturingspecifications.designobject[mdo].drawing.loopcount;l++)
          {
            if(manufacturingspecifications.designobject[mdo].drawing.loopdepth[l] == ld)
            {
              var p = new Point();
              var q = new Point();
              p=TransformPoint(manufacturingspecifications.designobject[mdo].drawing.loop[l].line[0].p,
                manufacturingspecifications.designobject[mdo].offsetx,
                manufacturingspecifications.designobject[mdo].offsety,
                manufacturingspecifications.designobject[mdo].angle,
                manufacturingspecifications.designobject[mdo].scale);
              ctx.beginPath();
              ctx.moveTo(((p.x + mousex) * zoom),((p.y + mousey) * zoom));
              for(var i=0;i<manufacturingspecifications.designobject[mdo].drawing.loop[l].linecount;i++)
              {
                q=TransformPoint(manufacturingspecifications.designobject[mdo].drawing.loop[l].line[i].q,
                  manufacturingspecifications.designobject[mdo].offsetx,
                  manufacturingspecifications.designobject[mdo].offsety,
                  manufacturingspecifications.designobject[mdo].angle,
                  manufacturingspecifications.designobject[mdo].scale);
                ctx.lineTo(((q.x + mousex) * zoom),((q.y + mousey) * zoom));
              }
              ctx.closePath();
              ctx.fill();
              ctx.stroke();
            }
          }
        }
        
        if(manufacturingspecifications.colorfront != "Black")
          ctx.strokeStyle = "Black"; 
        else
          ctx.strokeStyle = "white"; 
        for(var l=0;l<manufacturingspecifications.designobject[mdo].drawing.linkcount;l++)
        {
          var p = new Point();
          var q = new Point();
          p=TransformPoint(manufacturingspecifications.designobject[mdo].drawing.link[l].line[0].p,
            manufacturingspecifications.designobject[mdo].offsetx,
            manufacturingspecifications.designobject[mdo].offsety,
            manufacturingspecifications.designobject[mdo].angle,
            manufacturingspecifications.designobject[mdo].scale);
          ctx.beginPath();
          ctx.moveTo(((p.x + mousex) * zoom),((p.y + mousey) * zoom));
          for(var i=0;i<manufacturingspecifications.designobject[mdo].drawing.link[l].linecount;i++)
          {
            q=TransformPoint(manufacturingspecifications.designobject[mdo].drawing.link[l].line[i].q,
              manufacturingspecifications.designobject[mdo].offsetx,
              manufacturingspecifications.designobject[mdo].offsety,
              manufacturingspecifications.designobject[mdo].angle,
              manufacturingspecifications.designobject[mdo].scale);
            ctx.lineTo(((q.x + mousex) * zoom),((q.y + mousey) * zoom));  
          }
          ctx.stroke();
        }
      }
    }
  }
  ctx.restore();
} 
function LoadRawMaterial(length,width)
{
  manufacturingspecifications.designrawmaterial = new Array(4);
  manufacturingspecifications.designrawmaterial[0] = new Line;
  manufacturingspecifications.designrawmaterial[0].p = new Point;
  manufacturingspecifications.designrawmaterial[0].q = new Point;
  manufacturingspecifications.designrawmaterial[0].p.x = -length/2;
  manufacturingspecifications.designrawmaterial[0].p.y = -width/2;
  manufacturingspecifications.designrawmaterial[0].q.x = length/2;
  manufacturingspecifications.designrawmaterial[0].q.y = -width/2;
  manufacturingspecifications.designrawmaterial[1] = new Line;
  manufacturingspecifications.designrawmaterial[1].p = new Point;
  manufacturingspecifications.designrawmaterial[1].q = new Point;
  manufacturingspecifications.designrawmaterial[1].p.x = length/2;
  manufacturingspecifications.designrawmaterial[1].p.y = -width/2;
  manufacturingspecifications.designrawmaterial[1].q.x = length/2;
  manufacturingspecifications.designrawmaterial[1].q.y = width/2;
  manufacturingspecifications.designrawmaterial[2] = new Line;
  manufacturingspecifications.designrawmaterial[2].p = new Point;
  manufacturingspecifications.designrawmaterial[2].q = new Point;
  manufacturingspecifications.designrawmaterial[2].p.x = length/2;
  manufacturingspecifications.designrawmaterial[2].p.y = width/2;
  manufacturingspecifications.designrawmaterial[2].q.x = -length/2;
  manufacturingspecifications.designrawmaterial[2].q.y = width/2;
  manufacturingspecifications.designrawmaterial[3] = new Line;
  manufacturingspecifications.designrawmaterial[3].p = new Point;
  manufacturingspecifications.designrawmaterial[3].q = new Point;
  manufacturingspecifications.designrawmaterial[3].p.x = -length/2;
  manufacturingspecifications.designrawmaterial[3].p.y = width/2;
  manufacturingspecifications.designrawmaterial[3].q.x = -length/2;
  manufacturingspecifications.designrawmaterial[3].q.y = -width/2;  
  Draw();
}
function LoadDXFOnSlot(slot,url)
{
  var xhr = new XMLHttpRequest();
  xhr.open("GET", url, false);
  xhr.onload = function (oEvent)
  {
    var data = new Uint8Array(new TextEncoder().encode(xhr.responseText));
    var memory = _malloc(data.length);
    HEAPU8.set(data, memory);
    console.log("return = " + _LoadDXF(memory, data.length,minimumstep));
    console.log("return = " + _GenerateLoops(autoclosethreshold));
    _free(memory);
      
    manufacturingspecifications.designobject[slot].drawing = new Drawing();
    manufacturingspecifications.designobject[slot].drawing.maxloopdepth = _GET_maxloopdepth() + 1;
    
    manufacturingspecifications.designobject[slot].drawing.loopcount = _GET_loopcount();
    var loopcount = manufacturingspecifications.designobject[slot].drawing.loopcount;
    for(var i=0;i<loopcount;i++)
    {
      manufacturingspecifications.designobject[slot].drawing.loop[i] = new Loop();
      manufacturingspecifications.designobject[slot].drawing.loop[i].linecount = _GET_looplinecount(i);
      manufacturingspecifications.designobject[slot].drawing.loopdepth[i] = _GET_loopdepth(i) + 1;
      var looplinecount = manufacturingspecifications.designobject[slot].drawing.loop[i].linecount;
      for(var j=0;j<looplinecount;j++)
      {
        manufacturingspecifications.designobject[slot].drawing.loop[i].line[j] = new Line();
        manufacturingspecifications.designobject[slot].drawing.loop[i].line[j].p = new Point;
        manufacturingspecifications.designobject[slot].drawing.loop[i].line[j].q = new Point;
        manufacturingspecifications.designobject[slot].drawing.loop[i].line[j].p.x = _GET_loop_px(i,j);
        manufacturingspecifications.designobject[slot].drawing.loop[i].line[j].p.y = _GET_loop_py(i,j);
        manufacturingspecifications.designobject[slot].drawing.loop[i].line[j].q.x = _GET_loop_qx(i,j);
        manufacturingspecifications.designobject[slot].drawing.loop[i].line[j].q.y = _GET_loop_qy(i,j);
      }
    }
    manufacturingspecifications.designobject[slot].drawing.linkcount = _GET_linkcount();
    var linkcount = manufacturingspecifications.designobject[slot].drawing.linkcount;
    for(var i=0;i<linkcount;i++)
    {

      manufacturingspecifications.designobject[slot].drawing.link[i] = new Link();
      manufacturingspecifications.designobject[slot].drawing.link[i].linecount = _GET_linklinecount(i);
      var linklinecount = manufacturingspecifications.designobject[slot].drawing.link[i].linecount;
      for(var j=0;j<linklinecount;j++)
      {
        manufacturingspecifications.designobject[slot].drawing.link[i].line[j] = new Line();
        manufacturingspecifications.designobject[slot].drawing.link[i].line[j].p = new Point;
        manufacturingspecifications.designobject[slot].drawing.link[i].line[j].q = new Point;
        manufacturingspecifications.designobject[slot].drawing.link[i].line[j].p.x = _GET_link_px(i,j);
        manufacturingspecifications.designobject[slot].drawing.link[i].line[j].p.y = _GET_link_py(i,j);
        manufacturingspecifications.designobject[slot].drawing.link[i].line[j].q.x = _GET_link_qx(i,j);
        manufacturingspecifications.designobject[slot].drawing.link[i].line[j].q.y = _GET_link_qy(i,j);
      }
    }
  };  
  xhr.send(null);
} 
function DesignLoad()
{
  document.querySelectorAll(".shop-designelements-tray")[1].innerHTML = `
  <div style=" width: 100%;box-sizing: border-box;">
    <h3><b>Design Elements In Design</b></h3>
  </div>
  `;
  
  for(var i=0;i<manufacturingspecifications.designobjectlength;i++)
  {
    LoadDXFOnSlot(i,manufacturingspecifications.designobject[i].dxfurl);
    TransformDesignObject(manufacturingspecifications.designobject[i],
      manufacturingspecifications.designobject[i].offsetx,
      manufacturingspecifications.designobject[i].offsety,
      manufacturingspecifications.designobject[i].angle, 
      manufacturingspecifications.designobject[i].scale);
    
    document.querySelectorAll(".shop-designelements-tray")[1].innerHTML += `
    <div class="shop-designelements-tray-item">
      <img src="`+ manufacturingspecifications.designobject[i].thumbnailurl +`" class="shop-designelements-tray-item-img">
      <button class="shop-designelements-tray-item-button" onclick="DesignEditSelect(`+ i +`)" style="bottom: 5px;left:35px; background-color: rgb(61, 213, 255);"><span class="material-symbols-outlined">build</span></button>
      <button class="shop-designelements-tray-item-button" onclick="DesignRemove(`+ i +`)" style="bottom: 5px;left:145px;background-color: rgb(255, 0, 0);"><span class="material-symbols-outlined">delete_forever</span></button>
    </div>
    `;
  }
  Draw();  
}
function DesignAdd(folder,index)
{
  console.log("Loading");    
  document.querySelector(".loadingscreen").style.display = "flex";

  setTimeout(() => 
  {
    new Promise((resolve, reject) => 
    {
      if (manufacturingspecifications == undefined) 
        manufacturingspecifications = new ManufacturingSpecifications();
      if (manufacturingspecifications.designobject == undefined) 
          manufacturingspecifications.designobject = [];
      var _designobject = new DesignObject();
      _designobject.dxfurl = folder+index+".dxf";
      _designobject.thumbnailurl = folder+index+".jpg";
      _designobject.offsetx = 0;
      _designobject.offsety = 0;
      _designobject.angle = 0;
      _designobject.scale = 1;
      manufacturingspecifications.designobject.push(_designobject);
      manufacturingspecifications.designobjectlength++;

      LoadDXFOnSlot(manufacturingspecifications.designobjectlength-1,
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].dxfurl);
      TransformDesignObject(manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1],
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].offsetx,
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].offsety,
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].angle, 
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].scale);

      document.querySelectorAll(".shop-designelements-tray")[1].innerHTML = `
      <div style=" width: 100%;box-sizing: border-box;">
        <h3><b>Design Elements In Design</b></h3>
      </div>
      `;
      for(var i=0;i<manufacturingspecifications.designobjectlength;i++)
      {
        document.querySelectorAll(".shop-designelements-tray")[1].innerHTML += `
        <div class="shop-designelements-tray-item">
          <img src="`+ manufacturingspecifications.designobject[i].thumbnailurl +`" class="shop-designelements-tray-item-img">
          <button class="shop-designelements-tray-item-button" onclick="DesignEditSelect(`+ i +`)" style="bottom: 5px;left:35px; background-color: rgb(61, 213, 255);"><span class="material-symbols-outlined">build</span></button>
          <button class="shop-designelements-tray-item-button" onclick="DesignRemove(`+ i +`)" style="bottom: 5px;left:145px;background-color: rgb(255, 0, 0);"><span class="material-symbols-outlined">delete_forever</span></button>
        </div>
        `;
      }
      Draw();  
      DesignEditSelect(manufacturingspecifications.designobjectlength - 1);
      resolve();
    }).then(() => 
    {
      document.querySelector(".loadingscreen").style.display = "none";
      console.log("Loaded");
    });
  });
}
function DesignEditSelect(element_index)
{
  designelementeditindex = element_index;
  document.querySelectorAll(".shop-designelements-tray-editor-input")[0].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-editor-input")[1].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-editor-input")[2].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-editor-input")[3].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[0].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[1].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[2].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[3].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[4].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[5].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[6].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[7].classList.remove("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[8].classList.remove("disabled");

  document.querySelectorAll(".shop-designelements-tray-editor-input")[0].value = manufacturingspecifications.designobject[element_index].offsetx;
  document.querySelectorAll(".shop-designelements-tray-editor-input")[1].value = manufacturingspecifications.designobject[element_index].offsety;
  document.querySelectorAll(".shop-designelements-tray-editor-input")[2].value = 180.0*manufacturingspecifications.designobject[element_index].angle/3.141;
  document.querySelectorAll(".shop-designelements-tray-editor-input")[3].value = manufacturingspecifications.designobject[element_index].scale;
}
function DesignEditApply()
{
  designelementeditindex = undefined;
  document.querySelectorAll(".shop-designelements-tray-editor-input")[0].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-editor-input")[1].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-editor-input")[2].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-editor-input")[3].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[0].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[1].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[2].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[3].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[4].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[5].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[6].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[7].classList.add("disabled");
  document.querySelectorAll(".shop-designelements-tray-item-button")[8].classList.add("disabled");

  document.querySelectorAll(".shop-designelements-tray-editor-input")[0].value = "";
  document.querySelectorAll(".shop-designelements-tray-editor-input")[1].value = "";
  document.querySelectorAll(".shop-designelements-tray-editor-input")[2].value = "";
  document.querySelectorAll(".shop-designelements-tray-editor-input")[3].value = "";
}
function DesignEditUpdate(action)
{
  if(action == "input-positionx"){manufacturingspecifications.designobject[designelementeditindex].offsetx = parseFloat(document.querySelectorAll(".shop-designelements-tray-editor-input")[0].value);}
  if(action == "input-positiony"){manufacturingspecifications.designobject[designelementeditindex].offsety = parseFloat(document.querySelectorAll(".shop-designelements-tray-editor-input")[1].value);}
  if(action == "input-rotation"){manufacturingspecifications.designobject[designelementeditindex].angle  = -3.141 * parseFloat(document.querySelectorAll(".shop-designelements-tray-editor-input")[2].value)/180.0;}
  if(action == "input-scale"){manufacturingspecifications.designobject[designelementeditindex].scale     = parseFloat(document.querySelectorAll(".shop-designelements-tray-editor-input")[3].value);}

  if(action == "button-left"){manufacturingspecifications.designobject[designelementeditindex].offsetx -= 10;document.querySelectorAll(".shop-designelements-tray-editor-input")[0].value = manufacturingspecifications.designobject[designelementeditindex].offsetx;}
  if(action == "button-right"){manufacturingspecifications.designobject[designelementeditindex].offsetx += 10;document.querySelectorAll(".shop-designelements-tray-editor-input")[0].value = manufacturingspecifications.designobject[designelementeditindex].offsetx;}
  if(action == "button-up"){manufacturingspecifications.designobject[designelementeditindex].offsety += 10;document.querySelectorAll(".shop-designelements-tray-editor-input")[1].value = manufacturingspecifications.designobject[designelementeditindex].offsety;}
  if(action == "button-down"){manufacturingspecifications.designobject[designelementeditindex].offsety -= 10;document.querySelectorAll(".shop-designelements-tray-editor-input")[1].value = manufacturingspecifications.designobject[designelementeditindex].offsety;}
  if(action == "button-ccw"){manufacturingspecifications.designobject[designelementeditindex].angle += (45.0 * 3.141) / 180;document.querySelectorAll(".shop-designelements-tray-editor-input")[2].value  = -180.0*manufacturingspecifications.designobject[designelementeditindex].angle/3.141;}
  if(action == "button-cw"){manufacturingspecifications.designobject[designelementeditindex].angle -= (45.0 * 3.141) / 180;document.querySelectorAll(".shop-designelements-tray-editor-input")[2].value  = -180.0*manufacturingspecifications.designobject[designelementeditindex].angle/3.141;}
  if(action == "button-plus"){manufacturingspecifications.designobject[designelementeditindex].scale += 0.1;document.querySelectorAll(".shop-designelements-tray-editor-input")[3].value = manufacturingspecifications.designobject[designelementeditindex].scale;}
  if(action == "button-minus"){manufacturingspecifications.designobject[designelementeditindex].scale -= 0.1;document.querySelectorAll(".shop-designelements-tray-editor-input")[3].value = manufacturingspecifications.designobject[designelementeditindex].scale;}

  TransformDesignObject(manufacturingspecifications.designobject[designelementeditindex],
    manufacturingspecifications.designobject[designelementeditindex].offsetx,
    manufacturingspecifications.designobject[designelementeditindex].offsety,
    manufacturingspecifications.designobject[designelementeditindex].angle, 
    manufacturingspecifications.designobject[designelementeditindex].scale);        
  Draw();  
}
function DesignRemove(element_index)
{
  DesignEditApply();
  manufacturingspecifications.designobject.splice(element_index, 1);
  manufacturingspecifications.designobjectlength--;
  document.querySelectorAll(".shop-designelements-tray")[1].innerHTML = `
  <div style=" width: 100%;box-sizing: border-box;">
    <h3><b>Design Elements In Design</b></h3>
  </div>
  `;
  for(var i=0;i<manufacturingspecifications.designobjectlength;i++)
  {
    document.querySelectorAll(".shop-designelements-tray")[1].innerHTML += `
    <div class="shop-designelements-tray-item">
      <img src="`+ manufacturingspecifications.designobject[i].thumbnailurl +`" class="shop-designelements-tray-item-img">
      <button class="shop-designelements-tray-item-button" onclick="DesignEditSelect(`+ i +`)" style="bottom: 5px;left:35px; background-color: rgb(61, 213, 255);"><span class="material-symbols-outlined">build</span></button>
      <button class="shop-designelements-tray-item-button" onclick="DesignRemove(`+ i +`)" style="bottom: 5px;left:145px;background-color: rgb(255, 0, 0);"><span class="material-symbols-outlined">delete_forever</span></button>
    </div>
    `;
  }
  Draw();  
}
function DesignSave() 
{
  manufacturingspecifications.name = "UserCustomDesign";
  var _manufacturingspecifications = new ManufacturingSpecifications();
  Object.assign(_manufacturingspecifications, manufacturingspecifications);
  _manufacturingspecifications.designobject.forEach(function(_designobject)
  {
    _designobject.drawing = undefined;
  });
  const designjsonstring = JSON.stringify(_manufacturingspecifications,null,2);
  const blob = new Blob([designjsonstring], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'design.json';
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}
function DesignOpen() 
{
  const fileinput = document.createElement('input');
  fileinput.type = 'file';
  fileinput.accept = '.json';

  fileinput.onchange = event => 
  {
    const file = event.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = e => 
    {
      var _manufacturingspecifications = JSON.parse(e.target.result);
      document.querySelector(".dimensions-length").value = _manufacturingspecifications.dimensionsx;
      document.querySelector(".dimensions-width").value = _manufacturingspecifications.dimensionsy;
      SetSizeOptions();
      OnClickUnit('mm');
      OnClickSupplier(_manufacturingspecifications.supplier);
      OnClickConstruction(_manufacturingspecifications.construction);
      if(_manufacturingspecifications.construction == "Standalone")
      {
        
        if(_manufacturingspecifications.process != undefined)OnClickProcess(_manufacturingspecifications.process);
        if(_manufacturingspecifications.materialfront != undefined)OnClickMaterialFront(_manufacturingspecifications.materialfront);
        if(_manufacturingspecifications.thicknessfront != undefined)OnClickThicknessFront(_manufacturingspecifications.thicknessfront);
        if(_manufacturingspecifications.colorfront != undefined)OnClickColorFront(_manufacturingspecifications.colorfront);
      }
      if(manufacturingspecifications.construction == "Back-Supported")
      {
        if(_manufacturingspecifications.process != undefined)OnClickProcess(_manufacturingspecifications.process);
        if(_manufacturingspecifications.materialfront != undefined)OnClickMaterialFront(_manufacturingspecifications.materialfront);
        if(_manufacturingspecifications.thicknessfront != undefined)OnClickThicknessFront(_manufacturingspecifications.thicknessfront);
        if(_manufacturingspecifications.colorfront != undefined)OnClickColorFront(_manufacturingspecifications.colorfront);
        if(_manufacturingspecifications.materialback != undefined)OnClickMaterialBack(_manufacturingspecifications.materialback);
        if(_manufacturingspecifications.thicknessback != undefined)OnClickThicknessBack(_manufacturingspecifications.thicknessback);
        if(_manufacturingspecifications.colorback != undefined)OnClickColorBack(_manufacturingspecifications.colorback);
      }
      if(_manufacturingspecifications.construction == "Half-Depth")
      {
        if(_manufacturingspecifications.process != undefined)OnClickProcess(_manufacturingspecifications.process);
        if(_manufacturingspecifications.materialfront != undefined)OnClickMaterialFront(_manufacturingspecifications.materialfront);
        if(_manufacturingspecifications.thicknessfront != undefined)OnClickThicknessFront(_manufacturingspecifications.thicknessfront);
        if(_manufacturingspecifications.colorfront != undefined)OnClickColorFront(_manufacturingspecifications.colorfront);
        if(_manufacturingspecifications.cuttingdepth != undefined)OnChangeCuttingDepth(_manufacturingspecifications.cuttingdepth);
      }

      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[0].value = (_manufacturingspecifications.dimensionsy/2) - _manufacturingspecifications.spantop;
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[1].value = (_manufacturingspecifications.dimensionsy/2) + _manufacturingspecifications.spanbottom; 
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[2].value = (_manufacturingspecifications.dimensionsx/2) + _manufacturingspecifications.spanleft;
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[3].value = (_manufacturingspecifications.dimensionsx/2) - _manufacturingspecifications.spanright;

      manufacturingspecifications = _manufacturingspecifications;
      LoadRawMaterial(manufacturingspecifications.dimensionsx, manufacturingspecifications.dimensionsy);
      DesignLoad();
    };
    reader.readAsText(file);
  };

  fileinput.click();
}
function DesignUpload()
{
  const fileinput = document.createElement('input');
  fileinput.type = 'file';
  fileinput.accept = '.dxf';

  fileinput.onchange = event => 
  {
    const file = event.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = e => 
    {
      if (manufacturingspecifications == undefined) 
        manufacturingspecifications = new ManufacturingSpecifications();
      if (manufacturingspecifications.designobject == undefined) 
          manufacturingspecifications.designobject = [];
      var _designobject = new DesignObject();
      _designobject.dxfurl = undefined;
      _designobject.thumbnailurl = "images/customdxf.png";
      _designobject.offsetx = 0;
      _designobject.offsety = 0;
      _designobject.angle = 0;
      _designobject.scale = 1;
      manufacturingspecifications.designobject.push(_designobject);
      manufacturingspecifications.designobjectlength++;

      manufacturingspecifications.supplier = "LightYear";
      OnClickSupplier(manufacturingspecifications.supplier);
      manufacturingspecifications.construction = "Back-Supported";
      OnClickConstruction(manufacturingspecifications.construction);
      manufacturingspecifications.process = "CNC Laser 0.5mm";
      OnClickProcess(manufacturingspecifications.process);
      manufacturingspecifications.materialfront = "Acrylic";
      OnClickMaterialFront(manufacturingspecifications.materialfront);
      manufacturingspecifications.thicknessfront = "5mm";
      OnClickThicknessFront(manufacturingspecifications.thicknessfront);
      manufacturingspecifications.colorfront = "Red";
      OnClickColorFront(manufacturingspecifications.colorfront);
      manufacturingspecifications.colorback = "White"; 
      OnClickColorBack(manufacturingspecifications.colorback);

      var data = new Uint8Array(new TextEncoder().encode(e.target.result));
      var memory = _malloc(data.length);
      HEAPU8.set(data, memory);
      console.log("return = " + _LoadDXF(memory, data.length,minimumstep));
      console.log("return = " + _GenerateLoops(autoclosethreshold));
      _free(memory);
        
      manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing = new Drawing();
      manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.maxloopdepth = _GET_maxloopdepth();

      manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loopcount = _GET_loopcount();
      var loopcount = manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loopcount;
      for(var i=0;i<loopcount;i++)
      {
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loop[i] = new Loop();
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loop[i].linecount = _GET_looplinecount(i);
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loopdepth[i] = _GET_loopdepth(i);
        var looplinecount = manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loop[i].linecount;
        for(var j=0;j<looplinecount;j++)
        {
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loop[i].line[j] = new Line();
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loop[i].line[j].p = new Point;
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loop[i].line[j].q = new Point;
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loop[i].line[j].p.x = _GET_loop_px(i,j);
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loop[i].line[j].p.y = _GET_loop_py(i,j);
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loop[i].line[j].q.x = _GET_loop_qx(i,j);
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.loop[i].line[j].q.y = _GET_loop_qy(i,j);
        }
      }
      manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.linkcount = _GET_linkcount();
      var linkcount = manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.linkcount;
      for(var i=0;i<linkcount;i++)
      {

        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.link[i] = new Link();
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.link[i].linecount = _GET_linklinecount(i);
        var linklinecount = manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.link[i].linecount;
        for(var j=0;j<linklinecount;j++)
        {
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.link[i].line[j] = new Line();
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.link[i].line[j].p = new Point;
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.link[i].line[j].q = new Point;
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.link[i].line[j].p.x = _GET_link_px(i,j);
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.link[i].line[j].p.y = _GET_link_py(i,j);
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.link[i].line[j].q.x = _GET_link_qx(i,j);
          manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].drawing.link[i].line[j].q.y = _GET_link_qy(i,j);
        }
      }

      TransformDesignObject(manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1],
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].offsetx,
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].offsety,
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].angle, 
        manufacturingspecifications.designobject[manufacturingspecifications.designobjectlength-1].scale);

      document.querySelectorAll(".shop-designelements-tray")[1].innerHTML = `
      <div style=" width: 100%;box-sizing: border-box;">
        <h3><b>Design Elements In Design</b></h3>
      </div>
      `;
      for(var i=0;i<manufacturingspecifications.designobjectlength;i++)
      {
        document.querySelectorAll(".shop-designelements-tray")[1].innerHTML += `
        <div class="shop-designelements-tray-item">
          <img src="`+ manufacturingspecifications.designobject[i].thumbnailurl +`" class="shop-designelements-tray-item-img">
          <button class="shop-designelements-tray-item-button" onclick="DesignEditSelect(`+ i +`)" style="bottom: 5px;left:35px; background-color: rgb(61, 213, 255);"><span class="material-symbols-outlined">build</span></button>
          <button class="shop-designelements-tray-item-button" onclick="DesignRemove(`+ i +`)" style="bottom: 5px;left:145px;background-color: rgb(255, 0, 0);"><span class="material-symbols-outlined">delete_forever</span></button>
        </div>
        `;
      }
      Draw();  
      DesignEditSelect(manufacturingspecifications.designobjectlength - 1);
    };
    reader.readAsText(file);
  };

  fileinput.click();
}

var designelementeditindex = undefined;
const url = new URLSearchParams(window.location.search);
if(url.size == 0)
{
  window.location.href = "shop.html";
}  
var catalogue = undefined;
var xhr = new XMLHttpRequest();
xhr.open("GET", "Catalogue.json", false);
xhr.onload = function (oEvent)
{
  catalogue = JSON.parse(xhr.responseText);
};
xhr.send(null);
Module.onRuntimeInitialized = function() 
{
  if(url.get("design") == "BlankDesign")
  {
    if (manufacturingspecifications == undefined) 
      manufacturingspecifications = new ManufacturingSpecifications();
    if (manufacturingspecifications.designobject == undefined) 
        manufacturingspecifications.designobject = [];

    var _manufacturingspecifications = new ManufacturingSpecifications();
    if(url.get("category") == "Mandir")
    {
      document.querySelectorAll(".shop-designelements-tray")[2].innerHTML = `
      <div style=" width: 100%;box-sizing: border-box;">
        <h3><b>Add Design Elements</b></h3>
      </div>
      `;
      for(var i=1;i<=32;i++)
      {
        document.querySelectorAll(".shop-designelements-tray")[2].innerHTML += `
        <div class="shop-designelements-tray-item">
          <img src="dxf/MandirJaliObjects/`+i+`.jpg" class="shop-designelements-tray-item-img">
          <button class="shop-designelements-tray-item-button" onclick="DesignAdd('dxf/MandirJaliObjects/',`+ i +`)" style="bottom: 5px;left:85px;background-color: rgb(30, 255, 0);"><span class="material-symbols-outlined">add</span></button>
        </div>
        `;
      }  
      zoom = 0.9;
      _manufacturingspecifications.dimensionsx = 300;
      _manufacturingspecifications.dimensionsy = 500;
      _manufacturingspecifications.supplier = "LightYear";
      _manufacturingspecifications.construction = "Standalone";
      _manufacturingspecifications.process = "CNC Laser 0.5mm";
      _manufacturingspecifications.materialfront = "Acrylic";
      _manufacturingspecifications.thicknessfront = "5mm";
      _manufacturingspecifications.colorfront = "Black";      
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[0].value = 20;
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[1].value = 20; 
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[2].value = 20;
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[3].value = 20;
    }
    if(url.get("category") == "Partition")
    {
      document.querySelectorAll(".shop-designelements-tray")[2].innerHTML = `
      <div style=" width: 100%;box-sizing: border-box;">
        <h3><b>Add Design Elements</b></h3>
      </div>
      `;
      for(var i=1;i<=184;i++)
      {
        document.querySelectorAll(".shop-designelements-tray")[2].innerHTML += `
        <div class="shop-designelements-tray-item">
          <img src="dxf/PartitionJaliObjects/`+i+`.jpg" class="shop-designelements-tray-item-img">
          <button class="shop-designelements-tray-item-button" onclick="DesignAdd('dxf/PartitionJaliObjects/',`+ i +`)" style="bottom: 5px;left:85px;background-color: rgb(30, 255, 0);"><span class="material-symbols-outlined">add</span></button>
        </div>
        `;
      }
      zoom = 0.3;
      _manufacturingspecifications.dimensionsx = 2440;
      _manufacturingspecifications.dimensionsy = 1220;
      _manufacturingspecifications.supplier = "LightYear";
      _manufacturingspecifications.construction = "Standalone";
      _manufacturingspecifications.process = "CNC Router 6mm";
      _manufacturingspecifications.materialfront = "MDF";
      _manufacturingspecifications.thicknessfront = "18mm";
      _manufacturingspecifications.colorfront = "RAW";  
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[0].value = 18;
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[1].value = 18; 
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[2].value = 18;
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[3].value = 18;
    }    
    document.querySelector(".dimensions-length").value = _manufacturingspecifications.dimensionsx;
    document.querySelector(".dimensions-width").value = _manufacturingspecifications.dimensionsy;
    SetSizeOptions();
    OnClickUnit('mm');
    OnClickSupplier(_manufacturingspecifications.supplier);
    OnClickConstruction(_manufacturingspecifications.construction);
    if(_manufacturingspecifications.construction == "Standalone")
    {            
      if(_manufacturingspecifications.process != undefined)OnClickProcess(_manufacturingspecifications.process);
      if(_manufacturingspecifications.materialfront != undefined)OnClickMaterialFront(_manufacturingspecifications.materialfront);
      if(_manufacturingspecifications.thicknessfront != undefined)OnClickThicknessFront(_manufacturingspecifications.thicknessfront);
      if(_manufacturingspecifications.colorfront != undefined)OnClickColorFront(_manufacturingspecifications.colorfront);
    }
    if(manufacturingspecifications.construction == "Back-Supported")
    {
      if(_manufacturingspecifications.process != undefined)OnClickProcess(_manufacturingspecifications.process);
      if(_manufacturingspecifications.materialfront != undefined)OnClickMaterialFront(_manufacturingspecifications.materialfront);
      if(_manufacturingspecifications.thicknessfront != undefined)OnClickThicknessFront(_manufacturingspecifications.thicknessfront);
      if(_manufacturingspecifications.colorfront != undefined)OnClickColorFront(_manufacturingspecifications.colorfront);
      if(_manufacturingspecifications.materialback != undefined)OnClickMaterialBack(_manufacturingspecifications.materialback);
      if(_manufacturingspecifications.thicknessback != undefined)OnClickThicknessBack(_manufacturingspecifications.thicknessback);
      if(_manufacturingspecifications.colorback != undefined)OnClickColorBack(_manufacturingspecifications.colorback);
    }
    if(_manufacturingspecifications.construction == "Half-Depth")
    {
      if(_manufacturingspecifications.process != undefined)OnClickProcess(_manufacturingspecifications.process);
      if(_manufacturingspecifications.materialfront != undefined)OnClickMaterialFront(_manufacturingspecifications.materialfront);
      if(_manufacturingspecifications.thicknessfront != undefined)OnClickThicknessFront(_manufacturingspecifications.thicknessfront);
      if(_manufacturingspecifications.colorfront != undefined)OnClickColorFront(_manufacturingspecifications.colorfront);
      if(_manufacturingspecifications.cuttingdepth != undefined)OnChangeCuttingDepth(_manufacturingspecifications.cuttingdepth);
    }
    manufacturingspecifications = _manufacturingspecifications;
    OnChangeBorder();
    
    LoadRawMaterial(manufacturingspecifications.dimensionsx, manufacturingspecifications.dimensionsy);
    DesignLoad();
  }
  else if(url.get("design") != undefined)
  {
    catalogue = JSON.parse(xhr.responseText);
    var catalogueitem = undefined;

    for(var i=0;i<catalogue.catalogue_customised_decorative_jali.length;i++)
    {
      if(catalogue.catalogue_customised_decorative_jali[i].name == url.get("design"))
      {
        catalogueitem = catalogue.catalogue_customised_decorative_jali[i];
        break;
      }
    }
    for(var i=0;i<catalogue.catalogue_customised_mandir_centre.length;i++)
    {
      if(catalogue.catalogue_customised_mandir_centre[i].name == url.get("design"))
      {
        catalogueitem = catalogue.catalogue_customised_mandir_centre[i];
        break;
      }
    }
    
    if(catalogueitem != undefined)
    {
      var _manufacturingspecifications = new ManufacturingSpecifications();
      Object.assign(_manufacturingspecifications, catalogueitem.manufacturingspecifications);
      if(url.get("category") == "Mandir")
      {
        document.querySelectorAll(".shop-designelements-tray")[2].innerHTML = `
        <div style=" width: 100%;box-sizing: border-box;">
          <h3><b>Add Design Elements</b></h3>
        </div>
        `;
        for(var i=1;i<=32;i++)
        {
          document.querySelectorAll(".shop-designelements-tray")[2].innerHTML += `
          <div class="shop-designelements-tray-item">
            <img src="dxf/MandirJaliObjects/`+i+`.jpg" class="shop-designelements-tray-item-img">
            <button class="shop-designelements-tray-item-button" onclick="DesignAdd('dxf/MandirJaliObjects/',`+ i +`)" style="bottom: 5px;left:85px;background-color: rgb(30, 255, 0);"><span class="material-symbols-outlined">add</span></button>
          </div>
          `;
        }  
        zoom = 0.9;   
      }
      if(url.get("category") == "Partition")
      {
        document.querySelectorAll(".shop-designelements-tray")[2].innerHTML = `
        <div style=" width: 100%;box-sizing: border-box;">
          <h3><b>Add Design Elements</b></h3>
        </div>
        `;
        for(var i=1;i<=184;i++)
        {
          document.querySelectorAll(".shop-designelements-tray")[2].innerHTML += `
          <div class="shop-designelements-tray-item">
            <img src="dxf/PartitionJaliObjects/`+i+`.jpg" class="shop-designelements-tray-item-img">
            <button class="shop-designelements-tray-item-button" onclick="DesignAdd('dxf/PartitionJaliObjects/',`+ i +`)" style="bottom: 5px;left:85px;background-color: rgb(30, 255, 0);"><span class="material-symbols-outlined">add</span></button>
          </div>
          `;
        }
        zoom = 0.3;
      }    
      document.querySelector(".dimensions-length").value = _manufacturingspecifications.dimensionsx;
      document.querySelector(".dimensions-width").value = _manufacturingspecifications.dimensionsy;
      SetSizeOptions();
      OnClickUnit('mm');
      OnClickSupplier(_manufacturingspecifications.supplier);
      OnClickConstruction(_manufacturingspecifications.construction);
      if(_manufacturingspecifications.construction == "Standalone")
      {            
        if(_manufacturingspecifications.process != undefined)OnClickProcess(_manufacturingspecifications.process);
        if(_manufacturingspecifications.materialfront != undefined)OnClickMaterialFront(_manufacturingspecifications.materialfront);
        if(_manufacturingspecifications.thicknessfront != undefined)OnClickThicknessFront(_manufacturingspecifications.thicknessfront);
        if(_manufacturingspecifications.colorfront != undefined)OnClickColorFront(_manufacturingspecifications.colorfront);
      }
      if(manufacturingspecifications.construction == "Back-Supported")
      {
        if(_manufacturingspecifications.process != undefined)OnClickProcess(_manufacturingspecifications.process);
        if(_manufacturingspecifications.materialfront != undefined)OnClickMaterialFront(_manufacturingspecifications.materialfront);
        if(_manufacturingspecifications.thicknessfront != undefined)OnClickThicknessFront(_manufacturingspecifications.thicknessfront);
        if(_manufacturingspecifications.colorfront != undefined)OnClickColorFront(_manufacturingspecifications.colorfront);
        if(_manufacturingspecifications.materialback != undefined)OnClickMaterialBack(_manufacturingspecifications.materialback);
        if(_manufacturingspecifications.thicknessback != undefined)OnClickThicknessBack(_manufacturingspecifications.thicknessback);
        if(_manufacturingspecifications.colorback != undefined)OnClickColorBack(_manufacturingspecifications.colorback);
      }
      if(_manufacturingspecifications.construction == "Half-Depth")
      {
        if(_manufacturingspecifications.process != undefined)OnClickProcess(_manufacturingspecifications.process);
        if(_manufacturingspecifications.materialfront != undefined)OnClickMaterialFront(_manufacturingspecifications.materialfront);
        if(_manufacturingspecifications.thicknessfront != undefined)OnClickThicknessFront(_manufacturingspecifications.thicknessfront);
        if(_manufacturingspecifications.colorfront != undefined)OnClickColorFront(_manufacturingspecifications.colorfront);
        if(_manufacturingspecifications.cuttingdepth != undefined)OnChangeCuttingDepth(_manufacturingspecifications.cuttingdepth);
      }
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[0].value = (_manufacturingspecifications.dimensionsy/2) - _manufacturingspecifications.spantop;
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[1].value = (_manufacturingspecifications.dimensionsy/2) + _manufacturingspecifications.spanbottom; 
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[2].value = (_manufacturingspecifications.dimensionsx/2) + _manufacturingspecifications.spanleft;
      document.querySelectorAll(".shop-manufacturingconfig")[8].querySelectorAll("input")[3].value = (_manufacturingspecifications.dimensionsx/2) - _manufacturingspecifications.spanright;
      Object.assign(manufacturingspecifications, _manufacturingspecifications);
      
      LoadRawMaterial(manufacturingspecifications.dimensionsx, manufacturingspecifications.dimensionsy);
      DesignLoad();
      if(typeof PopulateCost == 'function')PopulateCost();  
    }      
    else
    {
      console.log("Design Not Found");
    }  
  }

  document.querySelector(".loadingscreen").style.display = "none";
};  

</script>


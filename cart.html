<!DOCTYPE html>
<html>

<head>
  <title>LightYear Industries</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  <link rel="icon" type="image/x-icon" href="images/titleicon.png" />
  <meta name="viewport" content="user-scalable=no">
</head>

<body class="Body" style="  padding-top: 150px;padding-left: 50px;padding-right: 50px;padding-bottom: 50px;">

  <div class="TopRibbon">    
    <div><a href="index.html"><img class = "TopRibbonLogo" src="images/LYI500x380.png"></a></div>
    <div><a class="TopRibbonText" href="index.html">Home</a></div>
    <div><a class="TopRibbonText" href="shop.html">Shop</a></div>
    <div><a class="TopRibbonText" href="career.html">Career</a></div>
    <div><a class="TopRibbonText" href="contact.html">Contact</a></div>
    <div><a class="TopRibbonText" href="user.html">Login</a></div>
    <div><a class="TopRibbonText" href="cart.html" style=" position: relative;"><div class="TopRibbonTextCartQuantity"></div><span class="material-symbols-outlined" style="width: 100px; font-size: 50px; z-index: 1001;">shopping_cart</span></a></div>
  </div>

  <div style="display: flex; width: 100%;height: 50px; justify-content: center; font-size: 50px; padding-bottom: 30px;">Cart</div>
  
  <div id="cart" style="
  display: flex;
  flex-direction: column;">
  </div>

  <div class="shippingswitch" style="
  display: flex;
  flex-direction: column; align-items: end;
  padding-top: 10px;
  padding-right: 10px;">
    <button onclick="ShippingSwitch(0)" class="shippingswitch-button unselected">No Pack, Pick from Warehouse</button>
    <button onclick="ShippingSwitch(1)" class="shippingswitch-button unselected">Package, Pick from Warehouse</button>
    <button onclick="ShippingSwitch(2)" class="shippingswitch-button unselected">Package & Ship</button>
  </div>

  <div style="
  display: grid;
  grid-template-columns: 1fr 300px;
  padding-top: 20px;">
    <div style="display: flex; justify-content: end;   font-size: 30px; padding-right: 20px; padding-bottom: 5px; align-items: end;">Total&nbsp&nbsp</div>
    <div style="display: flex; justify-content: start; font-size: 50px;">Rs.&nbsp<span id="carttotal">0.00</span></div>
  </div>
</body>

<style>
.shippingswitch-button
{
  height: 50px;
  width:400px;
  font-size: 20px;
  margin: 5px;
  border-radius: 10px;
  border-style: solid;
  border-width: 3px;
  border-color: black;
}
</style>
</html>

<script src="script.js"></script>
<script>
var packswitch = 0.0;
var shipswitch = 0.0;
ShippingSwitch(2);
function ShippingSwitch(index)
{
  SelectButton(document.querySelector(".shippingswitch"),index);
  if(index==0)
  {
    packswitch = 0.0;
    shipswitch = 0.0;
  }
  if(index==1)
  {
    packswitch = 1.0;
    shipswitch = 0.0;
  }
  if(index==2)
  {
    packswitch = 1.0;
    shipswitch = 1.0;
  }
  ListCart();
}

ListCart();
function ListCart()
{
  document.getElementById("cart").innerHTML = "";
  var carttotal = 0;
  for(var i=0;i<cart.Count();i++)
  {
    var total = ((cart.items[i].price+cart.items[i].packaging*packswitch+cart.items[i].shipping*shipswitch)*(1.18)*cart.items[i].quantity);
    carttotal += total;
    document.getElementById("cart").innerHTML += `
      <div style="
      border-style: solid;
      border-width: 2px;
      border-radius: 20px;
      margin-right: 10px;
      margin-bottom: 10px;
      display: grid;
      grid-template-columns:  200px 1fr 200px 300px;
      height: 200px;
      overflow: hidden;">

        <div>
          <img src="`+ cart.items[i].thumbnailurl +`" 
          style="
          padding: 10px;
          width: 180px; 
          height: 180px; 
          object-fit: cover;
          border-radius: 20px;">
        </div>

        <div style="
        display: flex;
        flex-direction: column;
        padding-left: 10%;   
        padding-top: 10px;     
        ">
          <div style="font-size: 15mm;">` + cart.items[i].name +`</div>
          <div style="font-size: 8mm;">` + cart.items[i].description +`</div>
        </div>

        <div style="
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 40px;
        ">
          x&nbsp
          <input type="number" style="
          width: 50px; 
          height: 50px; 
          font-size: 30px; 
          text-align: center;
          border-width: 3px;
          border-radius: 10px;"
          value="` + cart.items[i].quantity +`">
          <button onclick="cart.Remove(`+ i +`); ListCart();"
          style="
          width: 80px;
          height: 80px;
          border-style: none;
          background-color: rgba(0,0,0,0);
          cursor: pointer;
          margin-left:20px"><span class="material-symbols-outlined" style="font-size:50px;">delete_forever</span></button>
        </div>

        <div style="
        display: flex;
        flex-direction: column;
        row-gap: 10px;
        padding-left: 5%;   
        padding-top: 10px;  
        ">
          <div style="font-size: 5mm;">Rs.` + (cart.items[i].price).toFixed(2) + `<span style="font-size:3mm">&nbsp(base price)</span></div>
          <div style="font-size: 5mm;">Rs.` + (cart.items[i].packaging*packswitch).toFixed(2) + `<span style="font-size:3mm">&nbsp(packaging)</span></div>
          <div style="font-size: 5mm;">Rs.` + (cart.items[i].shipping*shipswitch).toFixed(2) + `<span style="font-size:3mm">&nbsp(Shipping)</span></div>
          <div style="font-size: 5mm;">Rs.` + ((cart.items[i].price + cart.items[i].packaging*packswitch + cart.items[i].shipping*shipswitch)*0.18).toFixed(2) + `<span style="font-size:3mm">&nbsp(gst)</span></div>
          <div style="font-size: 10mm;">Rs.` + (total).toFixed(2) + `<span style="font-size:3mm">&nbsp(total)</span></div>
        </div>
      </div> 
    `;
  }
  document.getElementById("carttotal").innerHTML = carttotal.toFixed(2);
}
</script>
